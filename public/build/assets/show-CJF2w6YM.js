import{K as A,r as I,j as e,L as K,$ as p,S as $}from"./app-DbpzdwFL.js";import{D as E}from"./delete-dialog-dg-9XrSq.js";import{B as k}from"./badge-DhvWYlS3.js";import{B as i}from"./button-nsSqORs2.js";import{C as l,a as n,b as d,d as g,c as m}from"./card-B32aR6OE.js";import{I as v}from"./input-GGR-33Of.js";import{S as w}from"./separator-DjZCV5-r.js";import{T as R,a as G,b as C,c as _}from"./tabs-8ZUNTxS_.js";import{A as U}from"./admin-layout-qkh5HjtB.js";import{t as c}from"./index-adnqAMSx.js";import{L as D}from"./link-BZQ9VD9o.js";import{E as F}from"./eye-ZoRFIM7v.js";import{T as V}from"./trending-up-8Mc3qTMB.js";import{c as O}from"./createLucideIcon-C4hA1fDf.js";import{S as q}from"./send-CJnWWXZt.js";import{C as z}from"./circle-x-D1VBm_WI.js";import{S as J}from"./square-pen-9Tu4nYP-.js";import{C as W}from"./copy-BySPJDbB.js";import{T as X}from"./trash-BVGwl8i9.js";import{C as Q}from"./calendar-40U364nB.js";import{C as Y}from"./clock-JumJjszk.js";import{i as Z}from"./isPast-DzoOH1ok.js";import{f as x}from"./format-CNjBDjOL.js";import{i as o}from"./id-BLKIQCr7.js";/* empty css            */import"./alert-dialog-CdPscUwQ.js";import"./index-DLFvmWB3.js";import"./index-BNGjsBO4.js";import"./index-muyUwSbg.js";import"./Combination-BfBk5v_5.js";import"./utils-t30SwFLs.js";import"./index-BKZ60sTg.js";import"./index-Czgf-KsJ.js";import"./sonner-BVDcOtMc.js";import"./breadcrumbs-BB8Ncwy_.js";import"./x-Ck5JSsba.js";import"./tooltip-BP3-rQs1.js";import"./index-BBYaHc3j.js";import"./index-BrWH3fgz.js";import"./floating-ui.react-dom-GTqUnYaj.js";import"./index-DQnLm8Kj.js";import"./index-BG9WF58p.js";import"./dropdown-menu-2YdbIEK2.js";import"./index-DWIaYFCs.js";import"./check-BUnQtbm6.js";import"./avatar-COyTLtDN.js";import"./use-initials-QSx-oft4.js";import"./user-CtC4W_DT.js";import"./chevron-right-B5kzfHcg.js";import"./app-sidebar-header-DlOmqqkD.js";import"./chevrons-up-down-DYhEesso.js";import"./user-check-lA5eDnOn.js";import"./users-ddkDeduW.js";import"./monitor-play-BpYKtXm7.js";import"./presentation-CbszFwHd.js";import"./gift-IIy9kaeP.js";import"./banknote-BtaNyBNx.js";import"./dollar-sign-CTBJ4doy.js";import"./file-text-CQepP0w_.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],se=O("ChartColumn",ee);function ns({product:s,clickStats:u,uniqueClicks:M,recentClicks:b,flash:t}){const{auth:P}=A().props,h=P.role.includes("affiliate"),S=[{title:"Sertifikasi Kerjasama",href:route("partnership-products.index")},{title:s.title,href:route("partnership-products.show",s.id)}];I.useEffect(()=>{t!=null&&t.success&&c.success(t.success),t!=null&&t.error&&c.error(t.error)},[t]);const T=()=>{$.delete(route("partnership-products.destroy",s.id))},y=a=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a),L=async()=>{try{await navigator.clipboard.writeText(s.registration_url),c.success("Link pendaftaran berhasil disalin!")}catch{c.error("Gagal menyalin link pendaftaran")}},H=async()=>{try{await navigator.clipboard.writeText(s.product_url),c.success("Link produk berhasil disalin!")}catch{c.error("Gagal menyalin link produk")}},N={draft:{label:"Draft",color:"bg-gray-100 text-gray-700"},published:{label:"Published",color:"bg-green-100 text-green-700"},archived:{label:"Archived",color:"bg-red-100 text-red-700"}},j=s.clicks_count||0,f=new Date(s.registration_deadline),B=Z(f);return e.jsxs(U,{breadcrumbs:S,children:[e.jsx(K,{title:`Detail - ${s.title}`}),e.jsxs("div",{className:"px-4 py-4 md:px-6",children:[e.jsxs("h1",{className:"mb-4 text-2xl font-semibold",children:["Detail ",s.title]}),e.jsxs("div",{className:`${h?"":"lg:grid-cols-3"} grid grid-cols-1 gap-4 lg:gap-6`,children:[e.jsxs(R,{defaultValue:"detail",className:"lg:col-span-2",children:[e.jsxs(G,{children:[e.jsx(C,{value:"detail",children:"Detail Produk"}),!h&&e.jsxs(C,{value:"analytics",children:["Analitik",j>0&&e.jsx("span",{className:"bg-primary/10 ml-1 rounded-full px-2 py-0.5 text-xs",children:j})]})]}),e.jsx(_,{value:"detail",children:e.jsxs(l,{children:[e.jsx(n,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(d,{children:s.title}),s.category&&e.jsxs(g,{className:"mt-1",children:["Kategori: ",s.category.name]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx(k,{className:N[s.status].color,children:N[s.status].label})})]})}),e.jsxs(m,{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Link Pendaftaran"}),e.jsx(v,{type:"text",value:s.registration_url,readOnly:!0,className:"rounded border p-2 text-sm",placeholder:"Link Pendaftaran"}),e.jsxs(i,{type:"button",onClick:L,className:"w-full hover:cursor-pointer",disabled:s.status==="draft"||s.status==="archived",children:["Salin Link Pendaftaran ",e.jsx(D,{})]})]}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Link Sertifikasi Kerjasama ",h&&"(dengan kode afiliasi)"]}),e.jsx(v,{type:"text",value:s.product_url,readOnly:!0,className:"rounded border p-2 text-sm",placeholder:"Link Sertifikasi Kerjasama"}),e.jsxs(i,{type:"button",onClick:H,className:"w-full hover:cursor-pointer",disabled:s.status==="draft"||s.status==="archived",children:["Salin Link Produk ",e.jsx(D,{})]})]})]}),s.status==="published"?e.jsx("p",{className:"text-muted-foreground text-center text-sm",children:"Share link diatas ke sosial media, whatsapp, tiktok, landing page, email ataupun channel penjualan lainnya untuk mendapatkan klik dan pendaftaran sertifikasi kerjasama."}):e.jsx("p",{className:"text-center text-sm text-red-500",children:"Product ini belum diterbitkan. Silakan terbitkan product terlebih dahulu untuk membagikan link akses sertifikasi kerjasama."}),e.jsxs("div",{className:"rounded-lg border p-4 md:text-center",children:[e.jsx("h3",{className:"mb-3 text-sm font-medium",children:"Harga"}),e.jsxs("div",{className:"flex flex-col md:justify-center",children:[s.strikethrough_price>0&&e.jsx("span",{className:"text-muted-foreground text-md line-through",children:y(s.strikethrough_price)}),e.jsx("span",{className:"text-3xl font-bold",children:y(s.price)})]}),e.jsx("p",{className:"text-muted-foreground mt-2 text-xs",children:"*Harga produk, tidak untuk transaksi di platform"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2 text-sm font-medium",children:"Thumbnail"}),e.jsx("img",{src:s.thumbnail?`/storage/${s.thumbnail}`:"/assets/images/placeholder.png",alt:s.title,className:"h-56 rounded-lg border object-cover"})]}),s.short_description&&e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2 text-sm font-medium",children:"Deskripsi Singkat"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:s.short_description})]}),s.description&&e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2 text-sm font-medium",children:"Deskripsi Lengkap"}),e.jsx("p",{className:"text-muted-foreground text-sm whitespace-pre-line",children:s.description})]}),s.key_points&&e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2 text-sm font-medium",children:"Poin-Poin Penting"}),e.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:s.key_points}})]})]})]})}),!h&&e.jsx(_,{value:"analytics",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs(l,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Total Klik"}),e.jsx(F,{className:"text-muted-foreground h-4 w-4"})]}),e.jsxs(m,{children:[e.jsx("div",{className:"text-2xl font-bold",children:j}),e.jsx("p",{className:"text-muted-foreground text-xs",children:"Semua waktu"})]})]}),e.jsxs(l,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"User Unik"}),e.jsx(V,{className:"text-muted-foreground h-4 w-4"})]}),e.jsxs(m,{children:[e.jsx("div",{className:"text-2xl font-bold",children:M}),e.jsx("p",{className:"text-muted-foreground text-xs",children:"User yang login"})]})]}),e.jsxs(l,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Klik (30 Hari)"}),e.jsx(se,{className:"text-muted-foreground h-4 w-4"})]}),e.jsxs(m,{children:[e.jsx("div",{className:"text-2xl font-bold",children:u.reduce((a,r)=>a+r.clicks,0)}),e.jsx("p",{className:"text-muted-foreground text-xs",children:"Bulan ini"})]})]})]}),e.jsxs(l,{children:[e.jsxs(n,{children:[e.jsx(d,{children:"Riwayat Klik (30 Hari Terakhir)"}),e.jsx(g,{children:"Grafik klik produk dalam 30 hari terakhir"})]}),e.jsx(m,{children:u.length>0?e.jsx("div",{className:"space-y-2",children:u.map((a,r)=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:x(new Date(a.date),"dd MMM yyyy",{locale:o})}),e.jsxs("span",{className:"font-medium",children:[a.clicks," klik"]})]},r))}):e.jsx("p",{className:"text-muted-foreground text-center text-sm",children:"Belum ada data klik"})})]}),e.jsxs(l,{children:[e.jsxs(n,{children:[e.jsx(d,{children:"Klik Terbaru"}),e.jsx(g,{children:"10 klik terakhir ke produk ini"})]}),e.jsx(m,{children:b.length>0?e.jsx("div",{className:"space-y-3",children:b.map(a=>{var r;return e.jsx("div",{className:"flex items-start justify-between border-b pb-2 last:border-0",children:e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium",children:[((r=a.user)==null?void 0:r.name)||"Guest"," ",!a.user&&`(${a.ip_address})`]}),e.jsx("p",{className:"text-muted-foreground text-xs",children:x(new Date(a.created_at),"dd MMM yyyy HH:mm",{locale:o})})]})},a.id)})}):e.jsx("p",{className:"text-muted-foreground text-center text-sm",children:"Belum ada klik"})})]})]})})]}),!h&&e.jsxs("div",{children:[e.jsx("h2",{className:"my-2 text-lg font-medium",children:"Aksi & Pengaturan"}),e.jsxs("div",{className:"space-y-4 rounded-lg border p-4",children:[(s.status==="draft"||s.status==="archived")&&e.jsxs(e.Fragment,{children:[!s.thumbnail&&e.jsx("div",{className:"mb-4 rounded-lg bg-red-50 p-3 text-center text-sm text-red-700",children:"Thumbnail belum diupload. Silakan upload thumbnail sebelum menerbitkan."}),!s.description&&e.jsx("div",{className:"mb-4 rounded-lg bg-red-50 p-3 text-center text-sm text-red-700",children:"Deskripsi belum diisi. Silakan isi deskripsi sebelum menerbitkan."}),!s.registration_deadline&&e.jsx("div",{className:"mb-4 rounded-lg bg-red-50 p-3 text-center text-sm text-red-700",children:"Batas pendaftaran belum diisi. Silakan isi batas pendaftaran sebelum menerbitkan."}),e.jsx(i,{asChild:!0,className:"w-full",disabled:!s.thumbnail||!s.description||!s.registration_deadline,children:e.jsxs(p,{method:"post",href:route("partnership-products.publish",s.id),children:[e.jsx(q,{}),"Terbitkan"]})})]}),s.status==="published"&&e.jsx(i,{asChild:!0,className:"w-full",children:e.jsxs(p,{method:"post",href:route("partnership-products.archive",s.id),children:[e.jsx(z,{}),"Arsipkan"]})}),e.jsx(w,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{asChild:!0,className:"w-full",variant:"secondary",children:e.jsxs(p,{href:route("partnership-products.edit",s.id),children:[e.jsx(J,{})," Edit"]})}),e.jsx(i,{asChild:!0,className:"w-full",variant:"secondary",children:e.jsxs(p,{method:"post",href:route("partnership-products.duplicate",s.id),children:[e.jsx(W,{})," Duplicate"]})}),e.jsx(E,{trigger:e.jsxs(i,{variant:"destructive",className:"w-full",children:[e.jsx(X,{})," Hapus"]}),title:"Apakah Anda yakin ingin menghapus produk ini?",itemName:s.title,onConfirm:T})]})]}),e.jsxs("div",{className:"mt-4 space-y-4 rounded-lg border p-4",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Informasi Produk"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[s.registration_deadline&&e.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-3",children:[e.jsxs("div",{className:"mb-1 flex items-center gap-2 text-xs font-medium text-gray-600",children:[e.jsx(Q,{className:"h-3 w-3"}),"Batas Pendaftaran"]}),e.jsx("p",{className:`text-sm font-medium ${B?"text-red-600":"text-gray-900"}`,children:x(f,"dd MMMM yyyy",{locale:o})}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Pukul ",x(f,"HH:mm",{locale:o})," WIB"]})]}),s.schedule_days&&s.schedule_days.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"mb-2 text-xs font-medium text-gray-600",children:"Jadwal Pelaksanaan"}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:s.schedule_days.map(a=>e.jsx(k,{variant:"outline",className:"bg-blue-50 text-xs",children:a},a))})]}),s.duration_days>0&&e.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-3",children:[e.jsxs("div",{className:"mb-1 flex items-center gap-2 text-xs font-medium text-gray-600",children:[e.jsx(Y,{className:"h-3 w-3"}),"Durasi Program"]}),e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[s.duration_days," hari"]})]}),e.jsx(w,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-muted-foreground text-xs",children:"Slug:"}),e.jsx("code",{className:"text-primary rounded bg-gray-100 px-1.5 py-0.5 text-xs",children:s.slug})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-muted-foreground text-xs",children:"Dibuat:"}),e.jsx("span",{className:"text-xs",children:x(new Date(s.created_at),"dd MMM yyyy",{locale:o})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-muted-foreground text-xs",children:"Diperbarui:"}),e.jsx("span",{className:"text-xs",children:x(new Date(s.updated_at),"dd MMM yyyy",{locale:o})})]})]})]})]})]})]})]})}export{ns as default};
