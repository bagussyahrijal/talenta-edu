import{j as e}from"./app-CYILbaoi.js";import{D as l}from"./data-table-column-header-CbJirFr5.js";import{B as n}from"./badge-DGbrXFT9.js";import{B as d}from"./button-CLlJLTlY.js";import{D as h,a as u,b as g,g as j,c as f}from"./dialog-DxQVzYhC.js";import{P as b}from"./progress-CXFm1oOz.js";import{T as N,a as v,b as k}from"./tooltip-CDEoEIuX.js";import{E as w}from"./external-link-YPQn6fAd.js";import{C as x}from"./circle-check-big-Cm2nCHD2.js";import{C as c}from"./clock-XpJ4NJ78.js";import{U as y}from"./user-round-check-BVuosYOn.js";import{U as _}from"./user-DXETfz_d.js";import{I as C}from"./image-BifqTRWf.js";import{f as D}from"./format-CNjBDjOL.js";import{i as B}from"./id-BLKIQCr7.js";import"./utils-D70Tm4tr.js";import"./dropdown-menu-BWgy41d2.js";import"./index-BkgLKw5P.js";import"./index-BAlv0roY.js";import"./index-DQ7lSK2h.js";import"./index-3tGqSjMC.js";import"./index-DGU35iqQ.js";import"./index-BbAmjduH.js";import"./floating-ui.react-dom-0bYVS00x.js";import"./index-FVdKASAH.js";import"./Combination-j_brszW9.js";import"./check-CRunFCf6.js";import"./createLucideIcon-GsIBX49w.js";import"./chevrons-up-down-LV_RtKod.js";import"./eye-off-BRK2OkA5.js";import"./index-DMiO1qAw.js";import"./index-Dmf8IhCC.js";import"./index-WgeQRLOk.js";import"./x-CztZCKWT.js";import"./index-CKqWFvSI.js";function T({attendances:t,userName:s,totalSchedules:a}){const i=t.filter(r=>r.verified).length;return e.jsxs(h,{children:[e.jsx(u,{asChild:!0,children:e.jsxs(d,{variant:"ghost",size:"sm",children:[e.jsx(y,{className:"mr-2 h-4 w-4"}),"Lihat Kehadiran (",i,"/",a,")"]})}),e.jsxs(g,{className:"max-h-[80vh] max-w-6xl overflow-y-auto",children:[e.jsx(j,{children:e.jsxs(f,{className:"flex items-center gap-2",children:[e.jsx(_,{className:"h-5 w-5"}),"Bukti Kehadiran - ",s,e.jsxs("span",{className:"text-muted-foreground ml-auto text-sm font-normal",children:[i,"/",a," Terverifikasi"]})]})}),e.jsx("div",{className:"mt-4 space-y-4",children:t.length>0?t.map((r,m)=>e.jsxs("div",{className:`rounded-lg border p-4 ${r.verified?"border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-900/20":"border-yellow-200 bg-yellow-50 dark:border-yellow-800 dark:bg-yellow-900/20"}`,children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[e.jsxs("h4",{className:"font-semibold",children:["Pertemuan ",m+1]}),e.jsxs("div",{className:"text-muted-foreground flex items-center gap-1 text-sm",children:[e.jsx(c,{className:"h-4 w-4"}),new Date(r.bootcamp_schedule.schedule_date).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"})," ","| ",r.bootcamp_schedule.start_time.slice(0,5)," -"," ",r.bootcamp_schedule.end_time.slice(0,5)," WIB"]})]}),e.jsxs("div",{className:"mb-3 flex items-center gap-2",children:[r.verified?e.jsxs("span",{className:"flex items-center gap-1 text-sm text-green-600",children:[e.jsx(x,{className:"h-4 w-4"}),"Terverifikasi"]}):e.jsxs("span",{className:"flex items-center gap-1 text-sm text-yellow-600",children:[e.jsx(c,{className:"h-4 w-4"}),"Menunggu Verifikasi"]}),e.jsxs("span",{className:"text-muted-foreground text-xs",children:["Upload: ",D(new Date(r.created_at),"dd MMM yyyy HH:mm",{locale:B})]})]}),r.notes&&e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-muted-foreground mb-1 text-sm",children:"Catatan:"}),e.jsx("p",{className:"rounded border bg-white p-2 text-sm dark:bg-gray-800",children:r.notes})]})]})}),e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"mb-2 text-sm font-medium",children:"Bukti Kehadiran:"}),e.jsx("div",{className:"overflow-hidden rounded-lg border",children:e.jsx("img",{src:`/storage/${r.attendance_proof}`,alt:`Bukti Kehadiran Pertemuan ${m+1}`,className:"h-auto max-h-64 w-full object-contain",onError:o=>{const p=o.target;p.src="/placeholder-image.png"}})})]})]},r.id)):e.jsxs("div",{className:"py-8 text-center",children:[e.jsx(C,{className:"text-muted-foreground mx-auto mb-4 h-12 w-12"}),e.jsx("p",{className:"text-muted-foreground",children:"Belum ada bukti kehadiran yang diupload"})]})}),e.jsx("div",{className:"mt-4 rounded-lg bg-blue-50 p-3 dark:bg-blue-900/20",children:e.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[e.jsx("strong",{children:"Progress Kehadiran:"})," ",i," dari ",a," pertemuan telah terverifikasi.",i===a&&a>0&&e.jsx("span",{className:"ml-2 font-medium text-green-600",children:"âœ… Semua kehadiran lengkap!"})]})})]})]})}const I=t=>[{accessorKey:"user.name",header:({column:s})=>e.jsx(l,{column:s,title:"Nama Peserta"}),cell:({row:s})=>e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.original.user.name}),e.jsx("p",{className:"text-muted-foreground text-xs",children:s.original.user.email})]})},{accessorKey:"user.phone_number",header:({column:s})=>e.jsx(l,{column:s,title:"No. HP"}),cell:({row:s})=>e.jsx("p",{className:"text-sm",children:s.original.user.phone_number||"-"})},{id:"attendance_progress",header:({column:s})=>e.jsx(l,{column:s,title:"Kehadiran"}),cell:({row:s})=>{var m;const i=((m=s.original.bootcamp_item.attendances)==null?void 0:m.filter(o=>o.verified).length)||0,r=t>0?i/t*100:0;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{value:r,className:"h-2 w-24"}),e.jsxs("span",{className:"text-sm font-medium",children:[Math.round(r),"%"]})]}),e.jsxs("p",{className:"text-muted-foreground text-xs",children:[i,"/",t," pertemuan"]})]})}},{id:"submission_link",header:({column:s})=>e.jsx(l,{column:s,title:"Link Submission"}),cell:({row:s})=>{const a=s.original.bootcamp_item.submission_link;return a?e.jsxs(N,{children:[e.jsx(v,{asChild:!0,children:e.jsx(d,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs("a",{href:a,target:"_blank",rel:"noopener noreferrer",children:[e.jsx(w,{className:"mr-2 h-3 w-3"}),"Lihat"]})})}),e.jsx(k,{children:e.jsx("p",{className:"max-w-xs text-xs break-all",children:a})})]}):e.jsx(n,{children:"Belum Upload"})}},{id:"status",header:({column:s})=>e.jsx(l,{column:s,title:"Status"}),cell:({row:s})=>s.original.bootcamp_item.completed_at!==null?e.jsxs(n,{className:"bg-green-100 text-green-800",children:[e.jsx(x,{className:"mr-1 h-3 w-3"}),"Selesai"]}):e.jsxs(n,{children:[e.jsx(c,{className:"mr-1 h-3 w-3"}),"Aktif"]})},{id:"actions",header:()=>e.jsx("div",{className:"text-center",children:"Aksi"}),cell:({row:s})=>{const a=s.original.bootcamp_item;return e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(T,{attendances:a.attendances||[],userName:s.original.user.name,totalSchedules:t})})}}],xe=(t=0)=>I(t);export{I as createParticipantColumns,xe as participantColumns};
