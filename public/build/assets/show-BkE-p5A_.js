import{K as H,r as K,j as e,L as I,$ as p,S as $}from"./app-BfgljzJ3.js";import{D as E}from"./delete-dialog-CIWrISpo.js";import{B as g}from"./badge-CjlrY6k8.js";import{B as r}from"./button-CG2QJ-wT.js";import{C as l,a as n,b as d,d as b,c as m}from"./card--WvhY1dG.js";import{I as v}from"./input-BWhf7_gu.js";import{S as w}from"./separator-DJ4kAjhV.js";import{T as G,a as R,b as _,c as C}from"./tabs-DaxwTIFS.js";import{A as U}from"./admin-layout-ZXSQbqqt.js";import{t as c}from"./index-CCObunE5.js";import{L as D}from"./link-fel85Jz7.js";import{E as F}from"./eye-BUAYZdTZ.js";import{T as V}from"./trending-up-BTqYhKjs.js";import{c as W}from"./createLucideIcon-Cq__5p_o.js";import{S as O}from"./send-BFzLuUx9.js";import{C as q}from"./circle-x-ZxuCaamR.js";import{S as z}from"./square-pen-DIQfAkCv.js";import{C as J}from"./copy-x1fnB_hm.js";import{T as X}from"./trash-COv0Z43A.js";import{C as Q}from"./calendar-CxgwP6TN.js";import{C as Y}from"./clock-DBR9qqdp.js";import{i as Z}from"./isPast-DzoOH1ok.js";import{f as x}from"./format-CNjBDjOL.js";import{i as o}from"./id-BLKIQCr7.js";/* empty css            */import"./alert-dialog-mpZ_lEXY.js";import"./index-DHuQuD3s.js";import"./index-D04OhSvg.js";import"./index-D83OGZQy.js";import"./Combination-DktbBQ3J.js";import"./utils-iT-EhTpQ.js";import"./index-CrNq_pxj.js";import"./index-7yTPfTuF.js";import"./sonner-DppOwf__.js";import"./breadcrumbs-CinftLRp.js";import"./x-BMzJtK3L.js";import"./tooltip-DQpMHSqg.js";import"./index-CqwQ1OM8.js";import"./index-DF3aAEmA.js";import"./index-ACvRBnQt.js";import"./floating-ui.react-dom-DMUK-sEG.js";import"./index-Kle8FPVE.js";import"./index-DNsBhyOa.js";import"./dropdown-menu-Do5Hs7nO.js";import"./index-Dhju1rRt.js";import"./check-ambaKsyi.js";import"./avatar-Bujad7xa.js";import"./use-initials-BRMBWAyp.js";import"./user-vN_DAdv2.js";import"./app-sidebar-header-Brm1wIQ3.js";import"./chevrons-up-down-CT2CnMYx.js";import"./user-check-CeaVlDA6.js";import"./users-Die0aX6H.js";import"./presentation-CMjz8-dB.js";import"./gift-B8STYbAU.js";import"./banknote-CQjAeQcr.js";import"./dollar-sign-Du0gPdmc.js";import"./file-text-DtPbOCCb.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],se=W("ChartColumn",ee);function ls({product:s,clickStats:u,uniqueClicks:M,recentClicks:y,flash:t}){const{auth:P}=H().props,h=P.role.includes("affiliate"),T=[{title:"Sertifikasi Kerjasama",href:route("partnership-products.index")},{title:s.title,href:route("partnership-products.show",s.id)}];K.useEffect(()=>{t!=null&&t.success&&c.success(t.success),t!=null&&t.error&&c.error(t.error)},[t]);const S=()=>{$.delete(route("partnership-products.destroy",s.id))},N=a=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a),L=async()=>{try{await navigator.clipboard.writeText(s.registration_url),c.success("Link pendaftaran berhasil disalin!")}catch{c.error("Gagal menyalin link pendaftaran")}},B=async()=>{try{await navigator.clipboard.writeText(s.product_url),c.success("Link produk berhasil disalin!")}catch{c.error("Gagal menyalin link produk")}},k={draft:{label:"Draft",color:"bg-gray-100 text-gray-700"},published:{label:"Published",color:"bg-green-100 text-green-700"},archived:{label:"Archived",color:"bg-red-100 text-red-700"}},j=s.clicks_count||0,f=new Date(s.registration_deadline),A=Z(f);return e.jsxs(U,{breadcrumbs:T,children:[e.jsx(I,{title:`Detail - ${s.title}`}),e.jsxs("div",{className:"px-4 py-4 md:px-6",children:[e.jsxs("h1",{className:"mb-4 text-2xl font-semibold",children:["Detail ",s.title]}),e.jsxs("div",{className:`${h?"":"lg:grid-cols-3"} grid grid-cols-1 gap-4 lg:gap-6`,children:[e.jsxs(G,{defaultValue:"detail",className:"lg:col-span-2",children:[e.jsxs(R,{children:[e.jsx(_,{value:"detail",children:"Detail Produk"}),!h&&e.jsxs(_,{value:"analytics",children:["Analitik",j>0&&e.jsx("span",{className:"bg-primary/10 ml-1 rounded-full px-2 py-0.5 text-xs",children:j})]})]}),e.jsx(C,{value:"detail",children:e.jsxs(l,{children:[e.jsx(n,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(d,{children:s.title}),s.category&&e.jsxs(b,{className:"mt-1",children:["Kategori: ",s.category.name]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx(g,{className:k[s.status].color,children:k[s.status].label})})]})}),e.jsxs(m,{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Link Pendaftaran"}),e.jsx(v,{type:"text",value:s.registration_url,readOnly:!0,className:"rounded border p-2 text-sm",placeholder:"Link Pendaftaran"}),e.jsxs(r,{type:"button",onClick:L,className:"w-full hover:cursor-pointer",disabled:s.status==="draft"||s.status==="archived",children:["Salin Link Pendaftaran ",e.jsx(D,{})]})]}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Link Sertifikasi Kerjasama ",h&&"(dengan kode afiliasi)"]}),e.jsx(v,{type:"text",value:s.product_url,readOnly:!0,className:"rounded border p-2 text-sm",placeholder:"Link Sertifikasi Kerjasama"}),e.jsxs(r,{type:"button",onClick:B,className:"w-full hover:cursor-pointer",disabled:s.status==="draft"||s.status==="archived",children:["Salin Link Produk ",e.jsx(D,{})]})]})]}),s.status==="published"?e.jsx("p",{className:"text-muted-foreground text-center text-sm",children:"Share link diatas ke sosial media, whatsapp, tiktok, landing page, email ataupun channel penjualan lainnya untuk mendapatkan klik dan pendaftaran sertifikasi kerjasama."}):e.jsx("p",{className:"text-center text-sm text-red-500",children:"Product ini belum diterbitkan. Silakan terbitkan product terlebih dahulu untuk membagikan link akses sertifikasi kerjasama."}),e.jsxs("div",{className:"rounded-lg border p-4 md:text-center",children:[e.jsx("h3",{className:"mb-3 text-sm font-medium",children:"Harga"}),e.jsxs("div",{className:"flex flex-col md:justify-center",children:[s.strikethrough_price>0&&e.jsx("span",{className:"text-muted-foreground text-md line-through",children:N(s.strikethrough_price)}),e.jsx("span",{className:"text-3xl font-bold",children:N(s.price)})]}),e.jsx("p",{className:"text-muted-foreground mt-2 text-xs",children:"*Harga produk, tidak untuk transaksi di platform"})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"rounded-lg border p-4",children:[e.jsx("h3",{className:"mb-3 text-sm font-medium",children:"Tipe Kategori"}),e.jsx(g,{className:`${s.type==="scholarship"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"} border-0 text-base`,children:s.type==="scholarship"?"Beasiswa":"Reguler"})]}),s.type==="scholarship"&&s.scholarship_group_link&&e.jsxs("div",{className:"rounded-lg border p-4",children:[e.jsx("h3",{className:"mb-3 text-sm font-medium",children:"Grup WhatsApp/Telegram"}),e.jsxs("a",{href:s.scholarship_group_link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 rounded-lg bg-green-50 px-4 py-2 text-sm font-medium text-gray-700 transition hover:bg-green-100",children:[e.jsx("img",{src:"/assets/images/icon-wa.svg",alt:"WhatsApp",className:"h-8 w-8 md:h-12 md:w-12"}),"Buka Grup"]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2 text-sm font-medium",children:"Thumbnail"}),e.jsx("img",{src:s.thumbnail?`/storage/${s.thumbnail}`:"/assets/images/placeholder.png",alt:s.title,className:"h-56 rounded-lg border object-cover"})]}),s.short_description&&e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2 text-sm font-medium",children:"Deskripsi Singkat"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:s.short_description})]}),s.description&&e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2 text-sm font-medium",children:"Deskripsi Lengkap"}),e.jsx("p",{className:"text-muted-foreground text-sm whitespace-pre-line",children:s.description})]}),s.key_points&&e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2 text-sm font-medium",children:"Poin-Poin Penting"}),e.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:s.key_points}})]})]})]})}),!h&&e.jsx(C,{value:"analytics",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs(l,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Total Klik"}),e.jsx(F,{className:"text-muted-foreground h-4 w-4"})]}),e.jsxs(m,{children:[e.jsx("div",{className:"text-2xl font-bold",children:j}),e.jsx("p",{className:"text-muted-foreground text-xs",children:"Semua waktu"})]})]}),e.jsxs(l,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"User Unik"}),e.jsx(V,{className:"text-muted-foreground h-4 w-4"})]}),e.jsxs(m,{children:[e.jsx("div",{className:"text-2xl font-bold",children:M}),e.jsx("p",{className:"text-muted-foreground text-xs",children:"User yang login"})]})]}),e.jsxs(l,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Klik (30 Hari)"}),e.jsx(se,{className:"text-muted-foreground h-4 w-4"})]}),e.jsxs(m,{children:[e.jsx("div",{className:"text-2xl font-bold",children:u.reduce((a,i)=>a+i.clicks,0)}),e.jsx("p",{className:"text-muted-foreground text-xs",children:"Bulan ini"})]})]})]}),e.jsxs(l,{children:[e.jsxs(n,{children:[e.jsx(d,{children:"Riwayat Klik (30 Hari Terakhir)"}),e.jsx(b,{children:"Grafik klik produk dalam 30 hari terakhir"})]}),e.jsx(m,{children:u.length>0?e.jsx("div",{className:"space-y-2",children:u.map((a,i)=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:x(new Date(a.date),"dd MMM yyyy",{locale:o})}),e.jsxs("span",{className:"font-medium",children:[a.clicks," klik"]})]},i))}):e.jsx("p",{className:"text-muted-foreground text-center text-sm",children:"Belum ada data klik"})})]}),e.jsxs(l,{children:[e.jsxs(n,{children:[e.jsx(d,{children:"Klik Terbaru"}),e.jsx(b,{children:"10 klik terakhir ke produk ini"})]}),e.jsx(m,{children:y.length>0?e.jsx("div",{className:"space-y-3",children:y.map(a=>{var i;return e.jsx("div",{className:"flex items-start justify-between border-b pb-2 last:border-0",children:e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium",children:[((i=a.user)==null?void 0:i.name)||"Guest"," ",!a.user&&`(${a.ip_address})`]}),e.jsx("p",{className:"text-muted-foreground text-xs",children:x(new Date(a.created_at),"dd MMM yyyy HH:mm",{locale:o})})]})},a.id)})}):e.jsx("p",{className:"text-muted-foreground text-center text-sm",children:"Belum ada klik"})})]})]})})]}),!h&&e.jsxs("div",{children:[e.jsx("h2",{className:"my-2 text-lg font-medium",children:"Aksi & Pengaturan"}),e.jsxs("div",{className:"space-y-4 rounded-lg border p-4",children:[(s.status==="draft"||s.status==="archived")&&e.jsxs(e.Fragment,{children:[!s.thumbnail&&e.jsx("div",{className:"mb-4 rounded-lg bg-red-50 p-3 text-center text-sm text-red-700",children:"Thumbnail belum diupload. Silakan upload thumbnail sebelum menerbitkan."}),!s.description&&e.jsx("div",{className:"mb-4 rounded-lg bg-red-50 p-3 text-center text-sm text-red-700",children:"Deskripsi belum diisi. Silakan isi deskripsi sebelum menerbitkan."}),!s.registration_deadline&&e.jsx("div",{className:"mb-4 rounded-lg bg-red-50 p-3 text-center text-sm text-red-700",children:"Batas pendaftaran belum diisi. Silakan isi batas pendaftaran sebelum menerbitkan."}),e.jsx(r,{asChild:!0,className:"w-full",disabled:!s.thumbnail||!s.description||!s.registration_deadline,children:e.jsxs(p,{method:"post",href:route("partnership-products.publish",s.id),children:[e.jsx(O,{}),"Terbitkan"]})})]}),s.status==="published"&&e.jsx(r,{asChild:!0,className:"w-full",children:e.jsxs(p,{method:"post",href:route("partnership-products.archive",s.id),children:[e.jsx(q,{}),"Arsipkan"]})}),e.jsx(w,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{asChild:!0,className:"w-full",variant:"secondary",children:e.jsxs(p,{href:route("partnership-products.edit",s.id),children:[e.jsx(z,{})," Edit"]})}),e.jsx(r,{asChild:!0,className:"w-full",variant:"secondary",children:e.jsxs(p,{method:"post",href:route("partnership-products.duplicate",s.id),children:[e.jsx(J,{})," Duplicate"]})}),e.jsx(E,{trigger:e.jsxs(r,{variant:"destructive",className:"w-full",children:[e.jsx(X,{})," Hapus"]}),title:"Apakah Anda yakin ingin menghapus produk ini?",itemName:s.title,onConfirm:S})]})]}),e.jsxs("div",{className:"mt-4 space-y-4 rounded-lg border p-4",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Informasi Produk"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[s.registration_deadline&&e.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-3",children:[e.jsxs("div",{className:"mb-1 flex items-center gap-2 text-xs font-medium text-gray-600",children:[e.jsx(Q,{className:"h-3 w-3"}),"Batas Pendaftaran"]}),e.jsx("p",{className:`text-sm font-medium ${A?"text-red-600":"text-gray-900"}`,children:x(f,"dd MMMM yyyy",{locale:o})}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Pukul ",x(f,"HH:mm",{locale:o})," WIB"]})]}),s.schedule_days&&s.schedule_days.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"mb-2 text-xs font-medium text-gray-600",children:"Jadwal Pelaksanaan"}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:s.schedule_days.map(a=>e.jsx(g,{variant:"outline",className:"bg-blue-50 text-xs",children:a},a))})]}),s.duration_days>0&&e.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-3",children:[e.jsxs("div",{className:"mb-1 flex items-center gap-2 text-xs font-medium text-gray-600",children:[e.jsx(Y,{className:"h-3 w-3"}),"Durasi Program"]}),e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[s.duration_days," hari"]})]}),e.jsx(w,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-muted-foreground text-xs",children:"Slug:"}),e.jsx("code",{className:"text-primary rounded bg-gray-100 px-1.5 py-0.5 text-xs",children:s.slug})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-muted-foreground text-xs",children:"Dibuat:"}),e.jsx("span",{className:"text-xs",children:x(new Date(s.created_at),"dd MMM yyyy",{locale:o})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-muted-foreground text-xs",children:"Diperbarui:"}),e.jsx("span",{className:"text-xs",children:x(new Date(s.updated_at),"dd MMM yyyy",{locale:o})})]})]})]})]})]})]})]})}export{ls as default};
