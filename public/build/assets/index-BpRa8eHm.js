import{r as l,j as e,L as b}from"./app-DbpzdwFL.js";import{t as j}from"./index-adnqAMSx.js";import{B as y}from"./button-nsSqORs2.js";import{D as S,b as v}from"./dialog-CupH4Hmp.js";import{X as k}from"./x-Ck5JSsba.js";import{U as N}from"./user-layout-BGVxSrPd.js";import _ from"./about-section-z8fg3-Wx.js";import E from"./carousel-section-BYN1ZDrA.js";import D from"./cta-section-Ch9rrjtj.js";import A from"./faq-section-B3FJc8K8.js";import L from"./latest-products-section-B84KJvcg.js";import P from"./program-section-DN91AZn5.js";import M from"./testimony-section-D7WOVNty.js";import T from"./tools-section-V2B49ZpH.js";/* empty css            */import"./index-BNGjsBO4.js";import"./index-muyUwSbg.js";import"./index-BKZ60sTg.js";import"./utils-t30SwFLs.js";import"./index-DLFvmWB3.js";import"./Combination-BfBk5v_5.js";import"./createLucideIcon-C4hA1fDf.js";import"./sonner-BVDcOtMc.js";import"./breadcrumbs-BB8Ncwy_.js";import"./tooltip-BP3-rQs1.js";import"./index-BBYaHc3j.js";import"./index-BrWH3fgz.js";import"./index-Czgf-KsJ.js";import"./floating-ui.react-dom-GTqUnYaj.js";import"./index-DQnLm8Kj.js";import"./index-BG9WF58p.js";import"./dropdown-menu-2YdbIEK2.js";import"./index-DWIaYFCs.js";import"./check-BUnQtbm6.js";import"./avatar-COyTLtDN.js";import"./use-initials-QSx-oft4.js";import"./user-CtC4W_DT.js";import"./chevron-right-B5kzfHcg.js";import"./icon-DkYG_jat.js";import"./index-BlfYzGKu.js";import"./chevron-down-qOg5Thj1.js";import"./popover-ByDDj6AP.js";import"./badge-DhvWYlS3.js";import"./command-Dld5evAu.js";import"./search-Bb5VI_Ga.js";import"./circle-check-big-BY52VMjX.js";import"./clock-JumJjszk.js";import"./monitor-play-BpYKtXm7.js";import"./presentation-CbszFwHd.js";import"./house-CctVEg_T.js";import"./file-text-CQepP0w_.js";import"./use-motion-value-Boy8BCRk.js";import"./proxy-hAb5WL-i.js";import"./use-spring-BoXR_be4.js";import"./index-BsA7R-9H.js";import"./chevron-left-69uj4ldC.js";import"./accordion-BJO_KbCF.js";import"./chevron-up-C65NXe2c.js";import"./spotlight-9osg8PFK.js";import"./percent-DF8ypJHf.js";import"./calendar-40U364nB.js";import"./package-BF1g8edw.js";import"./badge-check-CZ8-4okF.js";import"./infinite-slider-JV3Jo7FE.js";const x=["Ahmad Rizki","Siti Nurhaliza","Budi Santoso","Maya Sari","Andi Pratama","Dewi Lestari","Reza Fauzi","Indira Putri","Fajar Nugroho","Rina Maharani","Dimas Aditya","Lina Kartika","Arief Rahman","Tia Permata","Yoga Saputra","Nita Sari","Bayu Wijaya","Safira Anggraini","Hendra Gunawan","Mira Oktavia","Alif Firmansyah","Putri Wulandari","Irfan Hakim","Sari Melati","Doni Setiawan"];function C({products:t}){const[s,n]=l.useState(!0);return l.useEffect(()=>{if(!t||t.length===0)return;const r=()=>{const a=t[Math.floor(Math.random()*t.length)],m=x[Math.floor(Math.random()*x.length)],c=a.type==="course"?"Kelas Online":a.type==="bootcamp"?"Bootcamp":"Webinar";j.success(e.jsx("div",{className:"flex w-full min-w-0 items-start space-x-3",children:e.jsxs("div",{className:"min-w-0 flex-1 overflow-hidden",children:[e.jsx("p",{className:"mb-1 text-sm font-medium text-gray-900",children:e.jsx("span",{className:"font-semibold",children:m})}),e.jsxs("span",{className:"text-xs leading-relaxed break-words text-gray-500",children:["Baru saja membeli ",c,": "]}),e.jsx("span",{className:"text-xs leading-relaxed font-medium break-words text-gray-700",children:a.title})]})}),{duration:5e3,position:"bottom-left",style:{background:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",maxWidth:"350px",width:"350px",padding:"12px",wordBreak:"break-word",overflowWrap:"break-word"}})},i=setTimeout(r,1e4),o=setInterval(()=>{s&&r()},Math.random()*3e4+3e4);return()=>{clearTimeout(i),clearInterval(o)}},[t,s]),l.useEffect(()=>{const r=()=>{const o=window.scrollY+window.innerHeight,a=document.documentElement.scrollHeight;o>=a*.8?n(!1):n(!0)},i=()=>{n(!document.hidden)};return window.addEventListener("scroll",r),document.addEventListener("visibilitychange",i),()=>{window.removeEventListener("scroll",r),document.removeEventListener("visibilitychange",i)}},[]),null}function I({promotion:t,suppressDuration:s=24}){const[n,r]=l.useState(!1),[i,o]=l.useState(!1);l.useEffect(()=>{if(!t)return;const d=`promotion_${t.id}_dismissed`,f=localStorage.getItem(d);let p=!0;if(f){const u=new Date(f);(new Date().getTime()-u.getTime())/(1e3*60*60)<s&&(p=!1)}const h=new Date,g=new Date(t.start_date),w=new Date(t.end_date);if((h<g||h>w||!t.is_active)&&(p=!1),p){const u=setTimeout(()=>{r(!0)},2e3);return()=>clearTimeout(u)}},[t,s]);const a=()=>{r(!1);const d=`promotion_${t.id}_dismissed`;localStorage.setItem(d,new Date().toISOString())},m=()=>{t.url_redirect&&(!t.url_redirect.startsWith("/")&&!t.url_redirect.startsWith(window.location.origin)?window.open(t.url_redirect,"_blank","noopener,noreferrer"):window.location.href=t.url_redirect),a()},c=d=>{d.stopPropagation()};return t?e.jsx(S,{open:n,onOpenChange:r,children:e.jsx(v,{className:"flex h-[85vh] flex-col border-0 bg-transparent p-0 shadow-none",onClick:c,children:e.jsxs("div",{className:"relative flex h-full flex-col",children:[e.jsx(y,{onClick:a,variant:"secondary",size:"icon",className:"absolute -top-4 right-2 z-10 h-8 w-8 rounded-full bg-white shadow-lg hover:bg-gray-100",children:e.jsx(k,{className:"h-4 w-4"})}),e.jsxs("div",{className:"group relative flex min-h-0 flex-1 cursor-pointer items-center justify-center overflow-hidden rounded-lg",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),onClick:m,children:[e.jsx("img",{src:t.promotion_flyer,alt:"Promosi Aksademy",className:`max-h-full max-w-full rounded-2xl object-contain transition-all duration-300 ${i?"brightness-90":""}`,onError:()=>{console.error("Error loading promotion image"),a()}}),e.jsx("div",{className:`absolute right-8 bottom-4 transition-all duration-300 ${i?"opacity-100":"opacity-60"}`,children:e.jsxs("div",{className:"rounded-full bg-white/90 px-3 py-1 text-xs font-medium text-gray-700 shadow-sm backdrop-blur-sm",children:["Klik untuk ",t.url_redirect?"detail":"tutup"]})})]})]})})}):null}function qe({tools:t,latestProducts:s,myProductIds:n,allProducts:r,activePromotion:i,referralInfo:o}){return l.useEffect(()=>{const m=new URLSearchParams(window.location.search).get("ref");m?sessionStorage.setItem("referral_code",m):o.code&&sessionStorage.setItem("referral_code",o.code)},[o]),e.jsxs(N,{children:[e.jsx(b,{title:"Beranda"}),i&&e.jsx(I,{promotion:i,suppressDuration:3}),e.jsx(E,{}),e.jsx(_,{}),e.jsx(P,{}),e.jsx(T,{tools:t}),e.jsx(L,{latestProducts:s,myProductIds:n}),e.jsx(M,{}),e.jsx(A,{}),e.jsx(D,{}),typeof window<"u"&&window.innerWidth>=1024&&e.jsx(C,{products:r}),e.jsx("a",{href:"https://wa.me/+6285142505794?text=Halo%20Admin%20Aksademy,%20saya%20ingin%20bertanya%20tentang%20kelas%20online.",target:"_blank",rel:"noopener noreferrer",className:"fixed right-4 bottom-18 z-50 flex h-12 w-12 animate-bounce items-center justify-center rounded-full bg-green-100 shadow-lg transition duration-1000 hover:bg-green-200 md:right-10 md:h-16 md:w-16 lg:bottom-6","aria-label":"Chat WhatsApp",children:e.jsx("img",{src:"/assets/images/icon-wa.svg",alt:"WhatsApp",className:"h-8 w-8 md:h-12 md:w-12"})})]})}export{qe as default};
