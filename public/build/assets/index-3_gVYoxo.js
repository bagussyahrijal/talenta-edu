import{r as p,j as t,L as d,$ as i}from"./app-DbpzdwFL.js";import{H as c}from"./heading-C2pDb3CO.js";import{B as n}from"./button-nsSqORs2.js";import{I as u}from"./input-GGR-33Of.js";import{P as h}from"./layout-CXGzSU-V.js";import{U as _}from"./user-layout-BGVxSrPd.js";/* empty css            */import"./index-muyUwSbg.js";import"./index-BKZ60sTg.js";import"./utils-t30SwFLs.js";import"./avatar-COyTLtDN.js";import"./index-BrWH3fgz.js";import"./index-Czgf-KsJ.js";import"./index-BNGjsBO4.js";import"./use-initials-QSx-oft4.js";import"./createLucideIcon-C4hA1fDf.js";import"./monitor-play-BpYKtXm7.js";import"./presentation-CbszFwHd.js";import"./banknote-BtaNyBNx.js";import"./breadcrumbs-BB8Ncwy_.js";import"./index-DLFvmWB3.js";import"./Combination-BfBk5v_5.js";import"./x-Ck5JSsba.js";import"./tooltip-BP3-rQs1.js";import"./index-BBYaHc3j.js";import"./floating-ui.react-dom-GTqUnYaj.js";import"./index-DQnLm8Kj.js";import"./index-BG9WF58p.js";import"./dropdown-menu-2YdbIEK2.js";import"./index-DWIaYFCs.js";import"./check-BUnQtbm6.js";import"./user-CtC4W_DT.js";import"./chevron-right-B5kzfHcg.js";import"./sonner-BVDcOtMc.js";import"./index-adnqAMSx.js";import"./icon-DkYG_jat.js";import"./index-BlfYzGKu.js";import"./chevron-down-qOg5Thj1.js";import"./popover-ByDDj6AP.js";import"./badge-DhvWYlS3.js";import"./command-Dld5evAu.js";import"./dialog-CupH4Hmp.js";import"./search-Bb5VI_Ga.js";import"./circle-check-big-BY52VMjX.js";import"./clock-JumJjszk.js";import"./house-CctVEg_T.js";import"./file-text-CQepP0w_.js";function pe({myTransactions:o}){const[r,l]=p.useState(""),s=o.flatMap(e=>[...(e.course_items||[]).map(a=>({type:"Course",title:a.course.title,slug:a.course.slug,price:a.price,invoice_id:e.id,invoice_status:e.status,invoice_code:e.invoice_code,invoice_url:e.invoice_url,paid_at:e.paid_at,payment_channel:e.payment_channel,payment_method:e.payment_method,created_at:e.created_at})),...(e.bootcamp_items||[]).map(a=>({type:"Bootcamp",title:a.bootcamp.title,slug:a.bootcamp.slug,price:a.price,invoice_id:e.id,invoice_status:e.status,invoice_code:e.invoice_code,invoice_url:e.invoice_url,paid_at:e.paid_at,payment_channel:e.payment_channel,payment_method:e.payment_method,created_at:e.created_at})),...(e.webinar_items||[]).map(a=>({type:"Webinar",title:a.webinar.title,slug:a.webinar.slug,price:a.price,invoice_id:e.id,invoice_status:e.status,invoice_code:e.invoice_code,invoice_url:e.invoice_url,paid_at:e.paid_at,payment_channel:e.payment_channel,payment_method:e.payment_method,created_at:e.created_at}))]).filter(e=>e.title.toLowerCase().includes(r.toLowerCase())),m=e=>e==="paid"||e==="completed"?t.jsx("span",{className:"font-medium text-green-600",children:"Sudah Dibayar"}):e==="pending"?t.jsx("span",{className:"font-medium text-yellow-600",children:"Menunggu Pembayaran"}):t.jsx("span",{className:"font-medium text-red-600",children:"Gagal/Kedaluwarsa"});return t.jsxs(_,{children:[t.jsx(d,{title:"Transaksi Saya"}),t.jsxs(h,{children:[t.jsx(c,{title:"Transaksi Saya",description:"Lihat riwayat transaksi Anda di sini"}),t.jsx("div",{className:"mb-4 flex justify-between gap-2",children:t.jsx(u,{type:"search",placeholder:"Cari judul transaksi...",value:r,onChange:e=>l(e.target.value)})}),t.jsx("div",{className:"overflow-x-auto rounded-lg border",children:t.jsxs("table",{className:"min-w-full text-sm",children:[t.jsx("thead",{className:"bg-gray-100 dark:bg-zinc-800",children:t.jsxs("tr",{className:"text-left",children:[t.jsx("th",{className:"p-2 font-medium",children:"Judul"}),t.jsx("th",{className:"p-2 font-medium",children:"Tipe"}),t.jsx("th",{className:"p-2 font-medium",children:"Status"}),t.jsx("th",{className:"p-2 font-medium",children:"Metode Pembayaran"}),t.jsx("th",{className:"p-2 font-medium",children:"Kode Invoice"}),t.jsx("th",{className:"p-2 font-medium",children:"Dibayar Pada"}),t.jsx("th",{className:"p-2 font-medium",children:"Aksi"})]})}),t.jsx("tbody",{children:s.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"py-8 text-center text-gray-500",children:"Belum ada transaksi."})}):s.map((e,a)=>t.jsxs("tr",{className:"border-t dark:border-zinc-800",children:[t.jsx("td",{className:"p-2",children:t.jsx(i,{href:`/profile/my-${e.type.toLowerCase()}s/${e.slug}`,className:"text-primary hover:underline",children:e.title})}),t.jsx("td",{className:"p-2",children:e.type==="Course"?"Kelas Online":e.type}),t.jsx("td",{className:"p-2",children:m(e.invoice_status)}),t.jsx("td",{className:"p-2",children:e.price===0?t.jsx("span",{className:"font-semibold text-green-600",children:"GRATIS"}):e.payment_channel||e.payment_method||"-"}),t.jsx("td",{className:"p-2",children:e.invoice_code}),t.jsx("td",{className:"p-2",children:e.invoice_status==="pending"&&e.invoice_url?t.jsx(n,{asChild:!0,size:"sm",variant:"outline",children:t.jsx("a",{href:e.invoice_url,target:"_blank",children:"Lanjutkan Pembayaran"})}):e.paid_at?new Date(e.paid_at).toLocaleString("id-ID"):"-"}),t.jsx("td",{className:"p-2",children:t.jsx(n,{asChild:!0,size:"sm",variant:"outline",children:t.jsx(i,{href:route("profile.transaction.detail",{invoice:e.invoice_id}),children:"Detail"})})})]},a))})]})})]})]})}export{pe as default};
