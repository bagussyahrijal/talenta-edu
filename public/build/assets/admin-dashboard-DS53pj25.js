import{r as i,j as e,S as b}from"./app-DYAS-Qyq.js";import{B as M}from"./badge-APBHRnU3.js";import{B as c}from"./button-v-QgOOL0.js";import{C as j}from"./calendar-Cfe1f1AU.js";import{P as N,a as v,b as y}from"./popover-BqQluyF0.js";import{S as L}from"./separator-73ETMGtb.js";import{c as _}from"./utils-C_X5kVgD.js";import{ParticipantChart as B}from"./participant-chart-D0nk9AaI.js";import{RevenueChart as F}from"./revenue-chart-DEd9HWSy.js";import{D as z}from"./dollar-sign-SMDDRFKV.js";import{E,F as O,C as V}from"./filter-DXnJavew.js";import{T as p}from"./trending-up-Dze5bNW1.js";import{c as x}from"./createLucideIcon-Bhw6dKHI.js";import{U as A}from"./user-check-CgXr7_5W.js";import{B as H}from"./book-open-DIpVOglr.js";import{C as w}from"./calendar-DsI7B0MP.js";import{C as k}from"./chevron-down-CC-i1fvm.js";import{X as U}from"./x-DmcXAkzC.js";import{T as K}from"./trending-down-CUmD594I.js";import{f as m}from"./format-CNjBDjOL.js";import{i as D}from"./id-BLKIQCr7.js";/* empty css            */import"./index-tmhO_WzU.js";import"./index-C9FF-q5S.js";import"./chevron-left-aPXo1gGa.js";import"./chevron-right-CKd_xgn0.js";import"./index-DRrhP7Ju.js";import"./floating-ui.react-dom-CSzk0XoN.js";import"./Combination-DmC7HQdL.js";import"./index-B66-Nk5f.js";import"./card-cD_8MrYE.js";import"./chart-Co58u7i9.js";import"./index-Dc6Z1IEM.js";import"./select-DY__A3UT.js";import"./index-Ca3U-zBB.js";import"./index-eUXsNtyW.js";import"./index-BqAwJUa0.js";import"./index-CzxCT8Vz.js";import"./index-9soy7JQP.js";import"./index-nAMbC8f_.js";import"./check-CyPBZvDJ.js";import"./chevron-up-VAtVNute.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]],W=x("Laptop",R);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],G=x("Mic",q);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],Z=x("Network",X);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Q=x("UserPlus",J),Y=t=>`${t>=0?"+":""}${t.toFixed(1)}%`,ee=t=>t>0?"text-green-600":t<0?"text-red-600":"text-gray-600",te=t=>t>0?e.jsx(p,{className:"h-3 w-3"}):t<0?e.jsx(K,{className:"h-3 w-3"}):e.jsx(V,{className:"h-3 w-3"}),o=t=>{const s=typeof t=="string"?parseFloat(t):t;return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(s)},ae=t=>{var s,r,l,n;return(s=t.course_items)!=null&&s.length&&t.course_items.length>0?`Kelas: ${t.course_items[0].course.title}`:(r=t.bootcamp_items)!=null&&r.length&&t.bootcamp_items.length>0?`Bootcamp: ${t.bootcamp_items[0].bootcamp.title}`:(l=t.webinar_items)!=null&&l.length&&t.webinar_items.length>0?`Webinar: ${t.webinar_items[0].webinar.title}`:(n=t.bundle_enrollments)!=null&&n.length&&t.bundle_enrollments.length>0?`Bundle: ${t.bundle_enrollments[0].bundle.title}`:"Produk tidak diketahui"},se=t=>{const s={course:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",bootcamp:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",webinar:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300"},r={course:"Kelas",bootcamp:"Bootcamp",webinar:"Webinar"};return e.jsx(M,{className:s[t],children:r[t]})};function We({stats:t,filters:s}){const[r,l]=i.useState(()=>{if(s!=null&&s.start_date){const a=new Date(s.start_date+"T00:00:00");return isNaN(a.getTime())?void 0:a}}),[n,d]=i.useState(()=>{if(s!=null&&s.end_date){const a=new Date(s.end_date+"T00:00:00");return isNaN(a.getTime())?void 0:a}}),[S,g]=i.useState(!1),[T,h]=i.useState(!1),P=()=>{const a={};r&&(a.start_date=m(r,"yyyy-MM-dd")),n&&(a.end_date=m(n,"yyyy-MM-dd")),b.get(route("dashboard"),a,{preserveState:!1,preserveScroll:!0})},C=()=>{l(void 0),d(void 0),b.get(route("dashboard"),{},{preserveState:!1,preserveScroll:!0})},f=r&&n;i.useEffect(()=>{if(s!=null&&s.start_date){const a=new Date(s.start_date+"T00:00:00");isNaN(a.getTime())||l(a)}else l(void 0);if(s!=null&&s.end_date){const a=new Date(s.end_date+"T00:00:00");isNaN(a.getTime())||d(a)}else d(void 0)},[s==null?void 0:s.start_date,s==null?void 0:s.end_date]);const I=[{title:"Total Pendapatan",value:o(t.total_revenue),icon:e.jsx(z,{className:"text-muted-foreground size-5"}),color:"bg-green-100",subtitle:f&&t.filtered_date_range?`${t.filtered_date_range.start} - ${t.filtered_date_range.end}`:"Semua periode"},{title:"Pendapatan Bulan Ini",value:o(t.revenue_this_month),icon:e.jsx(E,{className:"text-muted-foreground size-5"}),color:"bg-blue-100",percentage:t.monthly_revenue_change,comparison:` bulan lalu (${o(t.revenue_last_month)})`},{title:"Pendapatan Hari Ini",value:o(t.revenue_today),icon:e.jsx(p,{className:"text-muted-foreground size-5"}),color:"bg-yellow-100",percentage:t.daily_revenue_change,comparison:` kemarin (${o(t.revenue_yesterday)})`}],$=[{title:"Total Pengguna",value:t.total_users.toLocaleString("id-ID"),icon:e.jsx(Q,{className:"text-muted-foreground size-5"}),subValue:`+${t.new_users_last_week.toLocaleString("id-ID")} dalam 7 hari`,color:"bg-purple-100"},{title:"Total Mentor",value:t.total_mentors.toLocaleString("id-ID"),icon:e.jsx(A,{className:"text-muted-foreground size-5"}),subValue:`+${t.new_mentors_last_week.toLocaleString("id-ID")} dalam 7 hari`,color:"bg-green-100"},{title:"Total Afiliasi",value:t.total_affiliates.toLocaleString("id-ID"),icon:e.jsx(Z,{className:"text-muted-foreground size-5"}),subValue:`+${t.new_affiliates_last_week.toLocaleString("id-ID")} dalam 7 hari`,color:"bg-blue-100"},{title:"Total Kelas Online",value:t.total_courses.toLocaleString("id-ID"),icon:e.jsx(H,{className:"text-muted-foreground size-5"}),color:"bg-yellow-100"},{title:"Total Bootcamp",value:t.total_bootcamps.toLocaleString("id-ID"),icon:e.jsx(W,{className:"text-muted-foreground size-5"}),color:"bg-red-100"},{title:"Total Webinar",value:t.total_webinars.toLocaleString("id-ID"),icon:e.jsx(G,{className:"text-muted-foreground size-5"}),color:"bg-purple-200"}];return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-1 items-start gap-6 xl:grid-cols-3",children:[e.jsxs("div",{className:"space-y-6 xl:col-span-2",children:[e.jsx("div",{className:"bg-card mb-6 rounded-lg border p-4",children:e.jsxs("div",{className:"flex flex-col gap-4 2xl:flex-row 2xl:items-end",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Filter Total Pendapatan"}),e.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row",children:[e.jsxs(N,{open:S,onOpenChange:g,children:[e.jsx(v,{asChild:!0,children:e.jsxs(c,{variant:"outline",className:_("w-full justify-between text-left font-normal sm:w-[200px]",!r&&"text-muted-foreground"),children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),r?m(r,"dd MMM yyyy",{locale:D}):"Tanggal mulai"]}),e.jsx(k,{className:"h-4 w-4"})]})}),e.jsx(y,{className:"w-auto overflow-hidden p-0",align:"start",children:e.jsx(j,{mode:"single",selected:r,captionLayout:"dropdown",onSelect:a=>{l(a),g(!1)},disabled:a=>a>new Date||(n?a>n:!1),initialFocus:!0})})]}),e.jsxs(N,{open:T,onOpenChange:h,children:[e.jsx(v,{asChild:!0,children:e.jsxs(c,{variant:"outline",className:_("w-full justify-between text-left font-normal sm:w-[200px]",!n&&"text-muted-foreground"),children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),n?m(n,"dd MMM yyyy",{locale:D}):"Tanggal selesai"]}),e.jsx(k,{className:"h-4 w-4"})]})}),e.jsx(y,{className:"w-auto overflow-hidden p-0",align:"start",children:e.jsx(j,{mode:"single",selected:n,captionLayout:"dropdown",onSelect:a=>{d(a),h(!1)},disabled:a=>a>new Date||(r?a<r:!1),initialFocus:!0})})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(c,{onClick:P,disabled:!r||!n,className:"flex items-center gap-2",children:[e.jsx(O,{className:"h-4 w-4"}),"Terapkan Filter"]}),f&&e.jsxs(c,{variant:"outline",onClick:C,className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-4 w-4"}),"Hapus Filter"]})]})]})}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:I.map((a,u)=>e.jsxs("div",{className:"border-border bg-card text-card-foreground rounded-xl border p-6 shadow-sm",children:[e.jsxs("div",{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx("h3",{className:"text-sm font-medium tracking-tight",children:a.title}),e.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-full ${a.color}`,children:a.icon})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-2 text-2xl font-bold",children:a.value}),a.subtitle&&e.jsx("p",{className:"text-muted-foreground mb-2 text-xs",children:a.subtitle}),a.percentage!==void 0&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsxs("span",{className:`flex items-center text-xs font-medium ${ee(a.percentage)}`,children:[te(a.percentage),e.jsx("span",{className:"ml-1",children:Y(a.percentage)})]}),e.jsx("span",{className:"text-muted-foreground text-xs",children:a.comparison})]})]})]},u))}),e.jsx(F,{data:t.monthly_revenue_data}),e.jsx(B,{data:t.participant_data}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:$.map((a,u)=>e.jsxs("div",{className:"border-border bg-card text-card-foreground rounded-xl border p-6 shadow-sm",children:[e.jsxs("div",{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx("h3",{className:"text-sm font-medium tracking-tight",children:a.title}),e.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-full ${a.color}`,children:a.icon})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-1 text-2xl font-bold",children:a.value}),a.subValue&&e.jsx("p",{className:"text-muted-foreground text-xs",children:a.subValue})]})]},u))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border-border bg-card text-card-foreground rounded-xl border p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Total Pendaftar Produk"}),e.jsx("div",{className:"mb-2 text-2xl font-bold text-green-500",children:t.total_participants.toLocaleString("id-ID")}),e.jsxs("div",{className:"text-muted-foreground mb-4 flex items-center gap-2",children:[e.jsxs("p",{className:"text-sm",children:[t.participants_this_month.toLocaleString("id-ID")," Pendaftar Bulan ini"]}),e.jsx(p,{size:"20"})]}),e.jsx(L,{className:"mb-4"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Pendaftar Produk Terbaru"}),e.jsx("div",{className:"mt-4 space-y-6",children:t.recent_sales.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 py-12",children:[e.jsx("img",{src:"/assets/images/not-found.webp",alt:"Penjualan Tidak Tersedia",className:"w-48"}),e.jsx("div",{className:"text-center text-gray-500",children:"Belum ada penjualan terbaru saat ini."})]}):t.recent_sales.map(a=>e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("p",{className:"text-sm leading-none font-medium",children:a.user.name}),e.jsx("p",{className:"text-muted-foreground text-sm",children:ae(a)})]}),e.jsx("div",{className:"font-medium",children:o(a.nett_amount)})]},a.id))})]}),e.jsxs("div",{className:"border-border bg-card text-card-foreground rounded-xl border p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Produk Terpopuler"}),e.jsx("p",{className:"text-muted-foreground mb-4 text-sm",children:"Produk dengan pendaftar terbanyak."}),e.jsx("div",{className:"space-y-4",children:t.popular_products.length===0?e.jsx("div",{className:"py-8 text-center text-gray-500",children:"Belum ada data produk populer."}):t.popular_products.slice(0,8).map(a=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex min-w-0 flex-1 items-center space-x-3",children:e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"truncate text-sm font-medium",children:a.title}),e.jsxs("div",{className:"mt-1 flex items-center space-x-2",children:[se(a.type),e.jsx("span",{className:"text-muted-foreground text-xs",children:o(a.price)})]})]})}),e.jsxs("div",{className:"flex-shrink-0 text-right",children:[e.jsx("span",{className:"text-sm font-semibold",children:a.enrollment_count}),e.jsx("p",{className:"text-muted-foreground text-xs",children:"pendaftar"})]})]},a.id))})]})]})]})})}export{We as default};
