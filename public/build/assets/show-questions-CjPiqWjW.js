import{j as e,r as m,$ as V,S as A}from"./app-DbpzdwFL.js";import{D as O}from"./delete-dialog-dg-9XrSq.js";import{B as N}from"./badge-DhvWYlS3.js";import{b as X,B as b}from"./button-nsSqORs2.js";import{I as K}from"./input-GGR-33Of.js";import{c as d}from"./utils-t30SwFLs.js";import{C as U}from"./chevron-left-69uj4ldC.js";import{c as W}from"./createLucideIcon-C4hA1fDf.js";import{C as E}from"./chevron-right-B5kzfHcg.js";import{S as Y,a as Z,b as q,c as ee,d as v}from"./select-D4Rt7mhW.js";import{S as ae}from"./search-Bb5VI_Ga.js";import{F as z}from"./file-text-CQepP0w_.js";import{S as se}from"./square-pen-9Tu4nYP-.js";import{T as te}from"./trash-BVGwl8i9.js";import{C as re}from"./chevron-down-qOg5Thj1.js";import{C as ne}from"./check-BUnQtbm6.js";import{X as ie}from"./x-Ck5JSsba.js";/* empty css            */import"./alert-dialog-CdPscUwQ.js";import"./index-DLFvmWB3.js";import"./index-BNGjsBO4.js";import"./index-muyUwSbg.js";import"./Combination-BfBk5v_5.js";import"./index-BKZ60sTg.js";import"./index-BBYaHc3j.js";import"./index-BrWH3fgz.js";import"./index-Czgf-KsJ.js";import"./floating-ui.react-dom-GTqUnYaj.js";import"./index-DWIaYFCs.js";import"./index-BlfYzGKu.js";import"./index-BG9WF58p.js";import"./chevron-up-C65NXe2c.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],ce=W("Ellipsis",le),L=({className:s,...r})=>e.jsx("nav",{role:"navigation","aria-label":"pagination",className:d("mx-auto flex w-full justify-center",s),...r});L.displayName="Pagination";const $=m.forwardRef(({className:s,...r},c)=>e.jsx("ul",{ref:c,className:d("flex flex-row items-center gap-1",s),...r}));$.displayName="PaginationContent";const y=m.forwardRef(({className:s,...r},c)=>e.jsx("li",{ref:c,className:d("",s),...r}));y.displayName="PaginationItem";const w=({className:s,isActive:r,size:c="icon",...u})=>e.jsx("a",{"aria-current":r?"page":void 0,className:d(X({variant:r?"outline":"ghost",size:c}),s),...u});w.displayName="PaginationLink";const I=({className:s,...r})=>e.jsxs(w,{"aria-label":"Go to previous page",size:"default",className:d("gap-1 pl-2.5",s),...r,children:[e.jsx(U,{className:"h-4 w-4"}),e.jsx("span",{children:"Previous"})]});I.displayName="PaginationPrevious";const M=({className:s,...r})=>e.jsxs(w,{"aria-label":"Go to next page",size:"default",className:d("gap-1 pr-2.5",s),...r,children:[e.jsx("span",{children:"Next"}),e.jsx(E,{className:"h-4 w-4"})]});M.displayName="PaginationNext";const B=({className:s,...r})=>e.jsxs("span",{"aria-hidden":!0,className:d("flex h-9 w-9 items-center justify-center",s),...r,children:[e.jsx(ce,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"More pages"})]});B.displayName="PaginationEllipsis";function He({questions:s,course:r,quiz:c}){const[u,P]=m.useState(""),[i,g]=m.useState(1),[x,D]=m.useState(10),[S,Q]=m.useState(new Set),J=a=>{A.delete(route("questions.destroy",a),{preserveScroll:!0})},F=a=>{const n=new Set(S);n.has(a)?n.delete(a):n.add(a),Q(n)},j=u.trim().toLowerCase(),_=j?s.filter(a=>{var T;const h=(a.question_text||"").toLowerCase().includes(j),t=(T=a.options)==null?void 0:T.some(G=>(G.option_text||"").toLowerCase().includes(j)),p=(a.explanation||"").toLowerCase().includes(j);return h||t||p}):s,o=_.length,l=Math.max(1,Math.ceil(o/x)),f=(i-1)*x,k=Math.min(f+x,o),H=_.slice(f,k);m.useEffect(()=>{const a=Math.max(1,Math.ceil(o/x));i>a&&g(a),i<1&&a>=1&&g(1)},[o,x,i]);const C=a=>{a<1||a>l||g(a)},R=()=>{const a=[];if(l<=7){for(let n=1;n<=l;n++)a.push(n);return a}return i<=4?(a.push(1,2,3,4,5,"ellipsis",l),a):i>=l-3?(a.push(1,"ellipsis",l-4,l-3,l-2,l-1,l),a):(a.push(1,"ellipsis",i-1,i,i+1,"ellipsis",l),a)};return e.jsxs("div",{className:"min-h-full space-y-6 rounded-lg border p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-medium",children:["Daftar Pertanyaan (",o,")"]}),e.jsxs("div",{className:"relative w-full sm:w-64",children:[e.jsx(K,{value:u,onChange:a=>{P(a.target.value),g(1)},placeholder:"Cari pertanyaan...",className:"h-9 pl-9"}),e.jsx(ae,{className:"text-muted-foreground absolute top-1/2 left-2 h-4 w-4 -translate-y-1/2"})]})]}),s.length===0?e.jsxs("div",{className:"py-12 text-center",children:[e.jsx(z,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mb-2 text-lg font-medium text-gray-900",children:"Belum ada pertanyaan"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Silakan buat pertanyaan baru untuk quiz ini."})]}):_.length===0?e.jsxs("div",{className:"py-12 text-center",children:[e.jsx(z,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mb-2 text-lg font-medium text-gray-900",children:"Tidak ada hasil"}),e.jsx("p",{className:"mb-4 text-sm text-gray-500",children:"Tidak ada pertanyaan yang cocok dengan kata kunci pencarian."}),e.jsx(b,{variant:"outline",onClick:()=>P(""),children:"Hapus Pencarian"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4",children:H.map((a,n)=>{var h;return e.jsxs("div",{className:"overflow-hidden rounded-lg border",children:[e.jsx("div",{className:"p-4 hover:bg-gray-50",children:e.jsx("div",{className:"flex flex-col items-start justify-between",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsxs(N,{className:"bg-blue-100 text-blue-800 hover:bg-blue-100",children:["Soal ",f+n+1]}),e.jsx(N,{variant:"outline",children:a.type==="multiple_choice"?"Pilihan Ganda":"Benar/Salah"})]}),e.jsxs("div",{className:"ml-4 flex items-center gap-2",children:[e.jsx(b,{asChild:!0,variant:"outline",size:"sm",className:"border-blue-200 text-blue-600 hover:bg-blue-50",children:e.jsxs(V,{href:route("questions.edit",{course:r.id,quiz:c.id,question:a.id}),children:[e.jsx(se,{className:"h-4 w-4"}),"Edit"]})}),e.jsx(O,{trigger:e.jsxs(b,{variant:"outline",size:"sm",className:"border-red-200 text-red-600 hover:bg-red-50",children:[e.jsx(te,{className:"h-4 w-4"}),"Hapus"]}),title:"Apakah Anda yakin ingin menghapus pertanyaan ini?",itemName:a.question_text.length>50?a.question_text.substring(0,50)+"...":a.question_text,onConfirm:()=>J(a.id)})]})]}),e.jsx("div",{className:"prose dark:prose-invert mb-2 max-w-none",dangerouslySetInnerHTML:{__html:a.question_text}}),a.question_image&&e.jsx("div",{className:"mb-4",children:e.jsx("img",{src:`/storage/${a.question_image}`,alt:"Question",className:"max-w-[300px] rounded-lg border object-contain"})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:a.type==="multiple_choice"?`${((h=a.options)==null?void 0:h.length)||0} pilihan jawaban`:"Soal Benar/Salah"}),e.jsx(b,{size:"sm",variant:"ghost",onClick:()=>F(a.id),className:"h-auto p-1 text-gray-500 hover:text-gray-700",children:S.has(a.id)?e.jsxs(e.Fragment,{children:[e.jsx(re,{className:"h-4 w-4"}),e.jsx("span",{className:"ml-1 text-xs",children:"Sembunyikan Jawaban"})]}):e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"h-4 w-4"}),e.jsx("span",{className:"ml-1 text-xs",children:"Lihat Jawaban"})]})})]})]})})}),S.has(a.id)&&e.jsxs("div",{className:"border-t bg-gray-50 p-4",children:[a.type==="multiple_choice"&&a.options&&e.jsxs("div",{children:[e.jsx("h4",{className:"mb-3 text-sm font-medium text-gray-700",children:"Pilihan Jawaban:"}),e.jsx("div",{className:"space-y-2",children:a.options.map((t,p)=>e.jsxs("div",{className:`flex flex-col gap-2 rounded p-3 ${t.is_correct?"border border-green-200 bg-green-100":"border border-gray-200 bg-white"}`,children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsxs("span",{className:"mt-0.5 text-sm font-medium text-gray-600",children:[String.fromCharCode(65+p),"."]}),t.option_text&&t.option_text.trim()!==""&&e.jsx("div",{className:`prose prose-sm flex-1 ${t.is_correct?"font-bold text-green-800":"text-gray-700"}`,dangerouslySetInnerHTML:{__html:t.option_text}}),t.is_correct?e.jsx(N,{className:"ml-auto border-0 bg-green-600 text-white",children:"Jawaban Benar"}):null]}),t.option_image&&e.jsx("img",{src:`/storage/${t.option_image}`,alt:`Option ${String.fromCharCode(65+p)}`,className:"mt-2 max-h-48 rounded border object-contain"})]},t.id))})]}),a.type==="true_false"&&a.options&&e.jsxs("div",{children:[e.jsx("h4",{className:"mb-3 text-sm font-medium text-gray-700",children:"Jawaban:"}),e.jsx("div",{className:"space-y-2",children:a.options.map((t,p)=>e.jsxs("div",{className:`flex items-center gap-2 rounded p-2 ${t.is_correct?"border border-green-200 bg-green-100":"border border-gray-200 bg-white"}`,children:[p===0?e.jsx(ne,{className:"h-4 w-4 text-green-600"}):e.jsx(ie,{className:"h-4 w-4 text-red-600"}),e.jsx("span",{className:`text-sm ${t.is_correct?"font-bold text-green-800":"text-gray-700"}`,children:t.option_text}),t.is_correct&&e.jsx(N,{className:"ml-auto border-0 bg-green-600 text-white",children:"Jawaban Benar"})]},t.id))})]}),a.explanation&&e.jsxs("div",{className:"mt-4 rounded-md border border-blue-200 bg-blue-50 p-3",children:[e.jsx("h4",{className:"mb-1 text-sm font-medium text-blue-800",children:"Pembahasan:"}),e.jsx("div",{className:"prose prose-sm dark:prose-invert text-blue-700",dangerouslySetInnerHTML:{__html:a.explanation}})]})]})]},a.id)})}),e.jsxs("div",{className:"flex flex-col items-center gap-3 pt-4 sm:flex-row sm:justify-between",children:[e.jsxs("p",{className:"text-muted-foreground text-sm",children:["Menampilkan ",e.jsx("span",{className:"text-foreground font-medium",children:o===0?0:f+1}),"â€“",e.jsx("span",{className:"text-foreground font-medium",children:k})," dari"," ",e.jsx("span",{className:"text-foreground font-medium",children:o})," pertanyaan"]}),e.jsxs("div",{className:"flex flex-col items-center gap-3 sm:flex-row",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-muted-foreground text-sm",children:"Per halaman:"}),e.jsxs(Y,{value:String(x),onValueChange:a=>{const n=parseInt(a,10);isNaN(n)||(D(n),g(1))},children:[e.jsx(Z,{className:"h-8 w-[90px]",children:e.jsx(q,{placeholder:"10"})}),e.jsxs(ee,{children:[e.jsx(v,{value:"10",children:"10"}),e.jsx(v,{value:"20",children:"20"}),e.jsx(v,{value:"30",children:"30"}),e.jsx(v,{value:"50",children:"50"})]})]})]}),e.jsx(L,{children:e.jsxs($,{children:[e.jsx(y,{children:e.jsx(I,{href:"#",onClick:a=>{a.preventDefault(),C(i-1)},className:i===1?"pointer-events-none opacity-50":"",size:"default"})}),R().map((a,n)=>e.jsx(y,{children:a==="ellipsis"?e.jsx(B,{}):e.jsx(w,{href:"#",isActive:a===i,onClick:h=>{h.preventDefault(),C(a)},size:"default",children:a})},`${a}-${n}`)),e.jsx(y,{children:e.jsx(M,{href:"#",onClick:a=>{a.preventDefault(),C(i+1)},className:i===l?"pointer-events-none opacity-50":"",size:"default"})})]})})]})]})]})]})}export{He as default};
