import{r as m,m as C,j as e}from"./app-DbpzdwFL.js";import{I as i}from"./input-error-BqpPuDzL.js";import{B as d}from"./button-nsSqORs2.js";import{b as y,c as E,d as _,e as D,f as I}from"./dialog-CupH4Hmp.js";import{I as t}from"./input-GGR-33Of.js";import{L as l}from"./label-CJg2QrTt.js";/* empty css            */import"./utils-t30SwFLs.js";import"./index-muyUwSbg.js";import"./index-BKZ60sTg.js";import"./index-DLFvmWB3.js";import"./index-BNGjsBO4.js";import"./Combination-BfBk5v_5.js";import"./x-Ck5JSsba.js";import"./createLucideIcon-C4hA1fDf.js";function H({affiliate:o,setOpen:c}){const u=m.useRef(null),x=m.useRef(null),f=m.useRef(null),j=m.useRef(null),{data:r,setData:a,put:g,processing:b,reset:v,errors:n,clearErrors:p}=C({name:o.name,email:o.email,phone_number:o.phone_number,commission:o.commission});m.useEffect(()=>{a({name:o.name,email:o.email,phone_number:o.phone_number,commission:o.commission}),p()},[o,a,p]);const N=s=>{s.preventDefault(),g(route("affiliates.update",o.id),{preserveScroll:!0,onSuccess:()=>{c(!1),v(),p()},onError:()=>{var h;return(h=u.current)==null?void 0:h.focus()}})};return e.jsxs(y,{children:[e.jsx(E,{children:"Edit Affiliate"}),e.jsx(_,{children:"Ubah nama, email, nomor telepon, dan komisi affiliate."}),e.jsxs("form",{className:"space-y-6",onSubmit:N,children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"name",className:"sr-only",children:"Nama Affiliate"}),e.jsx(t,{id:"name",type:"text",name:"name",ref:u,value:r.name,onChange:s=>{a("name",s.target.value)},placeholder:"Nama Affiliate",autoComplete:"off"}),e.jsx(i,{message:n.name}),e.jsx(l,{htmlFor:"email",className:"sr-only",children:"Email"}),e.jsx(t,{id:"email",type:"text",name:"email",ref:x,value:r.email,onChange:s=>a("email",s.target.value),placeholder:"Email",autoComplete:"off"}),e.jsx(i,{message:n.email}),e.jsx(l,{htmlFor:"phone_number",className:"sr-only",children:"Nomor Telepon"}),e.jsx(t,{id:"phone_number",type:"text",name:"phone_number",ref:f,value:r.phone_number,onChange:s=>a("phone_number",s.target.value),placeholder:"Nomor Telepon",autoComplete:"off"}),e.jsx(i,{message:n.phone_number}),e.jsx(l,{htmlFor:"commission",className:"text-xs text-gray-500",children:"Komisi (%) - Komisi yang akan diterima mentor dari setiap transaksi"}),e.jsx(t,{id:"commission",type:"number",name:"commission",ref:j,value:r.commission,onChange:s=>{a("commission",Number(s.target.value))},placeholder:"Komisi",autoComplete:"off"}),e.jsx(i,{message:n.commission})]}),e.jsxs(D,{className:"gap-2",children:[e.jsx(I,{asChild:!0,children:e.jsx(d,{variant:"secondary",onClick:()=>c(!1),className:"hover:cursor-pointer",children:"Batal"})}),e.jsx(d,{disabled:b,asChild:!0,className:"hover:cursor-pointer",children:e.jsx("button",{type:"submit",children:"Simpan Perubahan"})})]})]})]})}export{H as default};
