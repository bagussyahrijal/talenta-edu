import{r as j,j as e,L as Y,S as q}from"./app-CjwoOHic.js";import{B as h}from"./button-DacJ1YJy.js";import{C as Q}from"./calendar-DQSuPfdZ.js";import{C as v,a as N,b as y,c as C,d as _,e as k}from"./command-BKZ68FNX.js";import{u as X,F as Z,a as n,b as l,c as d,d as c,f as L,e as m}from"./form-CvEVNrdx.js";import{I as x}from"./input-d-Hiwcp1.js";import{P as b,a as f,b as g}from"./popover-eHoC5a0y.js";import{S as ee,a as ae,b as se,c as re,d as w}from"./select-C_GzdpzQ.js";import{T as ie}from"./textarea-DwaB0AX2.js";import{A as oe}from"./admin-layout-B9ObTi_z.js";import{c as u}from"./utils-DFabkTj6.js";import{s as te,o as ne,b as t,e as le}from"./types-CPNXVB_q.js";import{A as de}from"./award-cb0PMvEZ.js";import{C as me}from"./calendar-fold-QRzHjhBF.js";import{C as S}from"./chevrons-up-down-b1ejBD1P.js";import{C as P}from"./check-c3FymkRN.js";import{C as ce}from"./chevron-down-D5CWtigT.js";import{f as A}from"./format-CNjBDjOL.js";/* empty css            */import"./index-DKS-1qXG.js";import"./index-DTFNuGE6.js";import"./chevron-left-CEfFMFX8.js";import"./createLucideIcon-B653Qk9v.js";import"./chevron-right-DpuNAGVs.js";import"./index-Cvb6CxtW.js";import"./index-B5hQj5RF.js";import"./Combination-Ir9oY-b4.js";import"./index-CNy_Smob.js";import"./index-BtGXq_iT.js";import"./index-CHWWpttL.js";import"./index-Bu5oEu7D.js";import"./floating-ui.react-dom-DA1KMcNN.js";import"./dialog-BLFVVU-L.js";import"./x-DpWxvv5h.js";import"./search-BYcQtBBI.js";import"./label-Cyud5aW9.js";import"./index-Cu8KFeZF.js";import"./index-CtGM6Vdv.js";import"./index-Dov9zdoI.js";import"./chevron-up-D9K0Fbp7.js";import"./sonner-jhBKzsbs.js";import"./index-5P27D1ip.js";import"./breadcrumbs-C0mIPlcz.js";import"./tooltip-DwJUDkLE.js";import"./index-B4yeH_n8.js";import"./dropdown-menu-J0zAsAAH.js";import"./avatar-0aUpw5Bs.js";import"./use-initials-C7UuT96i.js";import"./user-CysLfEVE.js";import"./app-sidebar-header-UKFk8C8e.js";import"./user-check-CiXtTGt1.js";import"./users-DlzTtyUE.js";import"./presentation-C_BViarZ.js";import"./gift-D7H4VNJW.js";import"./banknote-D7HEgVf6.js";import"./dollar-sign-BS5OzJbS.js";import"./file-text-Jh881XWi.js";const pe=ne({design_id:t().nonempty("Desain sertifikat harus dipilih"),sign_id:t().nonempty("Tanda tangan harus dipilih"),certificate_number:t().nonempty("Nomor sertifikat harus diisi"),title:t().nonempty("Judul sertifikat harus diisi"),description:t().nullable(),header_top:t().nullable(),header_bottom:t().nullable(),issued_date:t().nullable(),period:t().nullable(),program_type:le(["course","bootcamp","webinar"]).refine(r=>r!==void 0,{message:"Jenis program harus dipilih"}),course_id:t().nullable(),bootcamp_id:t().nullable(),webinar_id:t().nullable()});function ja({certificate:r,designs:T,signs:O,courses:B,bootcamps:J,webinars:z}){const[H,D]=j.useState(!1),[K,F]=j.useState(!1),[R,I]=j.useState(!1),[W,M]=j.useState(!1),$=[{title:"Sertifikat",href:route("certificates.index")},{title:r.title,href:route("certificates.show",{certificate:r.id})},{title:"Edit Sertifikat",href:route("certificates.edit",{certificate:r.id})}],i=X({resolver:te(pe),defaultValues:{design_id:r.design_id??"",sign_id:r.sign_id??"",certificate_number:r.certificate_number??"",title:r.title??"",description:r.description??"",header_top:r.header_top??"",header_bottom:r.header_bottom??"",issued_date:r.issued_date??"",period:r.period??"",program_type:r.program_type,course_id:r.course_id??"",bootcamp_id:r.bootcamp_id??"",webinar_id:r.webinar_id??""}}),p=i.watch("program_type");function G(a){q.put(route("certificates.update",{certificate:r.id}),a)}const V=()=>{switch(p){case"course":return B;case"bootcamp":return J;case"webinar":return z;default:return[]}},E=()=>{switch(p){case"course":return"course_id";case"bootcamp":return"bootcamp_id";case"webinar":return"webinar_id";default:return""}},U=()=>{switch(p){case"course":return"Pilih kelas online";case"bootcamp":return"Pilih bootcamp";case"webinar":return"Pilih webinar";default:return"Pilih program"}};return e.jsxs(oe,{breadcrumbs:$,children:[e.jsx(Y,{title:`Edit Sertifikat - ${r.title}`}),e.jsxs("div",{className:"px-4 py-4 md:px-6",children:[e.jsxs("h1",{className:"text-2xl font-semibold",children:["Edit Sertifikat ",r.title]}),e.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl text-sm",children:'Silakan isi form di bawah ini untuk mengedit sertifikat. Setelah selesai, klik tombol "Simpan Perubahan" untuk menyimpan.'}),e.jsx(Z,{...i,children:e.jsxs("form",{onSubmit:i.handleSubmit(G),className:"grid grid-cols-1 items-start gap-6 lg:grid-cols-2",children:[e.jsxs("div",{className:"space-y-6 rounded-lg border p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(de,{size:16}),e.jsx("h3",{className:"font-medium",children:"Informasi Sertifikat"})]}),e.jsx(n,{control:i.control,name:"certificate_number",render:({field:a})=>e.jsxs(l,{children:[e.jsxs(d,{children:["Nomor Sertifikat ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{children:e.jsx(x,{placeholder:"Contoh: CERT-2025-001",...a,autoComplete:"off"})}),e.jsx(L,{children:"Nomor unik untuk sertifikat ini"}),e.jsx(m,{})]})}),e.jsx(n,{control:i.control,name:"title",render:({field:a})=>e.jsxs(l,{children:[e.jsxs(d,{children:["Judul Sertifikat ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{children:e.jsx(x,{placeholder:"Masukkan judul sertifikat",...a,autoComplete:"off"})}),e.jsx(m,{})]})}),e.jsx(n,{control:i.control,name:"description",render:({field:a})=>e.jsxs(l,{children:[e.jsx(d,{children:"Deskripsi"}),e.jsx(ie,{...a,value:a.value??"",className:"w-full rounded border p-2",placeholder:"Masukkan deskripsi sertifikat",autoComplete:"off"}),e.jsx(m,{})]})}),e.jsx(n,{control:i.control,name:"header_top",render:({field:a})=>e.jsxs(l,{children:[e.jsx(d,{children:"Header Atas"}),e.jsx(c,{children:e.jsx(x,{placeholder:"Teks untuk header bagian atas",...a,value:a.value??"",autoComplete:"off"})}),e.jsx(m,{})]})}),e.jsx(n,{control:i.control,name:"header_bottom",render:({field:a})=>e.jsxs(l,{children:[e.jsx(d,{children:"Header Bawah"}),e.jsx(c,{children:e.jsx(x,{placeholder:"Teks untuk header bagian bawah",...a,value:a.value??"",autoComplete:"off"})}),e.jsx(m,{})]})})]}),e.jsxs("div",{className:"space-y-6 rounded-lg border p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(me,{size:16}),e.jsx("h3",{className:"font-medium",children:"Detail Tambahan"})]}),e.jsx(n,{control:i.control,name:"program_type",render:({field:a})=>e.jsxs(l,{children:[e.jsxs(d,{children:["Jenis Program ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(ee,{onValueChange:o=>{a.onChange(o),i.setValue("course_id",""),i.setValue("bootcamp_id",""),i.setValue("webinar_id","")},value:a.value,children:[e.jsx(c,{children:e.jsx(ae,{children:e.jsx(se,{placeholder:"Pilih jenis program"})})}),e.jsxs(re,{children:[e.jsx(w,{value:"course",children:"Kelas Online"}),e.jsx(w,{value:"bootcamp",children:"Bootcamp"}),e.jsx(w,{value:"webinar",children:"Webinar"})]})]}),e.jsx(m,{})]})}),p&&e.jsx(n,{control:i.control,name:E(),render:({field:a})=>{var o;return e.jsxs(l,{className:"flex flex-col",children:[e.jsxs(d,{children:[p==="course"?"Kelas Online":p==="bootcamp"?"Bootcamp":"Webinar"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(b,{open:R,onOpenChange:I,children:[e.jsx(f,{asChild:!0,children:e.jsx(c,{children:e.jsxs(h,{variant:"outline",role:"combobox",className:u("justify-between",!a.value&&"text-muted-foreground"),children:[a.value?(o=V().find(s=>s.id===a.value))==null?void 0:o.title:U(),e.jsx("span",{className:"sr-only",children:"Pilih program"}),e.jsx(S,{className:"opacity-50"})]})})}),e.jsx(g,{className:"p-0",children:e.jsxs(v,{children:[e.jsx(N,{placeholder:`Cari ${p}...`,className:"h-9"}),e.jsxs(y,{children:[e.jsxs(C,{children:["Tidak ada ",p," ditemukan."]}),e.jsx(_,{children:V().map(s=>e.jsxs(k,{value:s.title,onSelect:()=>{i.setValue(E(),s.id),I(!1)},children:[s.title,e.jsx(P,{className:u("ml-auto",s.id===a.value?"opacity-100":"opacity-0")})]},s.id))})]})]})})]}),e.jsx(m,{})]})}}),e.jsx(n,{control:i.control,name:"design_id",render:({field:a})=>{var o;return e.jsxs(l,{className:"flex flex-col",children:[e.jsxs(d,{children:["Desain Sertifikat ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(b,{open:H,onOpenChange:D,children:[e.jsx(f,{asChild:!0,children:e.jsx(c,{children:e.jsxs(h,{variant:"outline",role:"combobox",className:u("justify-between",!a.value&&"text-muted-foreground"),children:[a.value?(o=T.find(s=>s.id===a.value))==null?void 0:o.name:"Pilih desain sertifikat",e.jsx("span",{className:"sr-only",children:"Pilih desain"}),e.jsx(S,{className:"opacity-50"})]})})}),e.jsx(g,{className:"p-0",children:e.jsxs(v,{children:[e.jsx(N,{placeholder:"Cari desain...",className:"h-9"}),e.jsxs(y,{children:[e.jsx(C,{children:"Tidak ada desain ditemukan."}),e.jsx(_,{children:T.map(s=>e.jsxs(k,{value:s.name,onSelect:()=>{i.setValue("design_id",s.id),D(!1)},children:[s.name,e.jsx(P,{className:u("ml-auto",s.id===a.value?"opacity-100":"opacity-0")})]},s.id))})]})]})})]}),e.jsx(m,{})]})}}),e.jsx(n,{control:i.control,name:"sign_id",render:({field:a})=>{var o;return e.jsxs(l,{className:"flex flex-col",children:[e.jsxs(d,{children:["Tanda Tangan ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(b,{open:K,onOpenChange:F,children:[e.jsx(f,{asChild:!0,children:e.jsx(c,{children:e.jsxs(h,{variant:"outline",role:"combobox",className:u("justify-between",!a.value&&"text-muted-foreground"),children:[a.value?(o=O.find(s=>s.id===a.value))==null?void 0:o.name:"Pilih tanda tangan",e.jsx("span",{className:"sr-only",children:"Pilih tanda tangan"}),e.jsx(S,{className:"opacity-50"})]})})}),e.jsx(g,{className:"p-0",children:e.jsxs(v,{children:[e.jsx(N,{placeholder:"Cari tanda tangan...",className:"h-9"}),e.jsxs(y,{children:[e.jsx(C,{children:"Tidak ada tanda tangan ditemukan."}),e.jsx(_,{children:O.map(s=>e.jsxs(k,{value:s.name,onSelect:()=>{i.setValue("sign_id",s.id),F(!1)},children:[s.name,e.jsx(P,{className:u("ml-auto",s.id===a.value?"opacity-100":"opacity-0")})]},s.id))})]})]})})]}),e.jsx(m,{})]})}}),e.jsx(n,{control:i.control,name:"issued_date",render:({field:a})=>e.jsxs(l,{className:"flex flex-col",children:[e.jsx(d,{children:"Tanggal Terbit"}),e.jsxs(b,{open:W,onOpenChange:M,children:[e.jsx(f,{asChild:!0,children:e.jsx(c,{children:e.jsxs(h,{variant:"outline",className:u("justify-between font-normal",!a.value&&"text-muted-foreground"),children:[a.value?A(new Date(a.value),"dd MMMM yyyy"):"Pilih tanggal terbit",e.jsx(ce,{className:"h-4 w-4 opacity-50"})]})})}),e.jsx(g,{className:"w-auto overflow-hidden p-0",align:"start",children:e.jsx(Q,{mode:"single",selected:a.value?new Date(a.value):void 0,endMonth:new Date(new Date().getFullYear()+10,11),onSelect:o=>{o?a.onChange(A(o,"yyyy-MM-dd")):a.onChange(""),M(!1)},captionLayout:"dropdown"})})]}),e.jsx(m,{})]})}),e.jsx(n,{control:i.control,name:"period",render:({field:a})=>e.jsxs(l,{children:[e.jsx(d,{children:"Periode"}),e.jsx(c,{children:e.jsx(x,{placeholder:"Contoh: Januari - Maret 2025",...a,value:a.value??"",autoComplete:"off"})}),e.jsx(L,{children:"Periode berlakunya sertifikat"}),e.jsx(m,{})]})})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsx(h,{type:"submit",className:"hover:cursor-pointer",children:"Simpan Perubahan"})})]})})]})]})}export{ja as default};
