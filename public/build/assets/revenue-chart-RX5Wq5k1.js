import{j as a}from"./app-DbpzdwFL.js";import{C as f,a as g,b as j,d as C,c as y,e as b}from"./card-B32aR6OE.js";import{l as T,B as d,X as m,Y as x,n as v,o as N,R as F,p as k,q as _}from"./chart-eurelHJp.js";import{T as R}from"./trending-up-8Mc3qTMB.js";import{T as w}from"./trending-down-l5fZdId8.js";/* empty css            */import"./utils-t30SwFLs.js";import"./index-DT1WykSM.js";import"./createLucideIcon-C4hA1fDf.js";var A=T({chartName:"BarChart",GraphicalChild:d,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:m},{axisType:"yAxis",AxisComp:x}],formatAxisMap:v});const D={total_amount:{label:"Pendapatan",color:"hsl(var(--primary))"}},c=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t),M=t=>t>=1e9?`Rp ${(t/1e9).toFixed(1)}M`:t>=1e6?`Rp ${(t/1e6).toFixed(1)}Jt`:t>=1e3?`Rp ${(t/1e3).toFixed(0)}K`:`Rp ${t.toLocaleString("id-ID")}`;function K({data:t}){const i=t[t.length-1],s=t[t.length-2];let n=0,o=!0;i&&s&&s.total_amount>0&&(n=(i.total_amount-s.total_amount)/s.total_amount*100,o=n>=0);const h=t.reduce((r,e)=>r+e.total_amount,0),p=t.reduce((r,e)=>r+e.transaction_count,0);return a.jsxs(f,{children:[a.jsxs(g,{children:[a.jsx(j,{children:"Laporan Pendapatan dan Transaksi"}),a.jsx(C,{children:"Data pendapatan dan transaksi 12 bulan terakhir"})]}),a.jsx(y,{children:a.jsx(N,{config:D,children:a.jsx(F,{width:"100%",height:350,children:a.jsxs(A,{accessibilityLayer:!0,data:t,margin:{bottom:20},children:[a.jsx(k,{strokeDasharray:"3 3",vertical:!1}),a.jsx(m,{dataKey:"month_year",tickLine:!1,tickMargin:10,axisLine:!1,angle:-45,textAnchor:"end",height:30,interval:0,fontSize:11}),a.jsx(x,{tickFormatter:M,axisLine:!1,tickLine:!1,fontSize:11,width:60}),a.jsx(_,{cursor:{fill:"rgba(0, 0, 0, 0.1)"},content:({active:r,payload:e,label:u})=>{if(r&&e&&e.length){const l=e[0].payload;return a.jsxs("div",{className:"bg-background border-border rounded-lg border p-3 shadow-lg",children:[a.jsx("p",{className:"text-sm font-medium",children:u}),a.jsxs("p",{className:"text-primary text-sm",children:["Pendapatan: ",a.jsx("span",{className:"font-semibold",children:c(l.total_amount)})]}),a.jsxs("p",{className:"text-muted-foreground text-sm",children:["Transaksi: ",a.jsx("span",{className:"font-medium",children:l.transaction_count})]})]})}return null}}),a.jsx(d,{dataKey:"total_amount",fill:"var(--color-primary)",radius:[4,4,0,0],maxBarSize:60})]})})})}),a.jsxs(b,{className:"flex-col items-start gap-2 text-sm",children:[a.jsx("div",{className:"flex gap-2 leading-none font-medium",children:t.length>1&&a.jsx(a.Fragment,{children:o?a.jsxs(a.Fragment,{children:["Naik ",Math.abs(n).toFixed(1),"% dari bulan lalu",a.jsx(R,{className:"h-4 w-4 text-green-500"})]}):a.jsxs(a.Fragment,{children:["Turun ",Math.abs(n).toFixed(1),"% dari bulan lalu",a.jsx(w,{className:"h-4 w-4 text-red-500"})]})})}),a.jsxs("div",{className:"text-muted-foreground leading-none",children:["Total: ",c(h)," dari ",p," transaksi"]})]})]})}export{K as RevenueChart};
