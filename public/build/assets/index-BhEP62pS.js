import{K as he,r as c,j as e,L as q,$ as P,S as fe}from"./app-BfgljzJ3.js";import{B as p}from"./button-CG2QJ-wT.js";import{C as be}from"./checkbox-DarTbJes.js";import{I as T}from"./input-BWhf7_gu.js";import{L as N}from"./label-D7witjkJ.js";import{S as G}from"./separator-DJ4kAjhV.js";import{T as je}from"./sonner-DppOwf__.js";import{t as C}from"./index-CCObunE5.js";import{U as Z}from"./user-vN_DAdv2.js";import{S as ke}from"./shopping-cart-1Q_12CNE.js";import{C as ye}from"./calendar-CxgwP6TN.js";import{C as U}from"./check-ambaKsyi.js";import{B as Ne}from"./badge-check-CFQL6p0Q.js";import{X as ee}from"./x-BMzJtK3L.js";import{H as we}from"./hourglass-Bkpv3LlL.js";/* empty css            */import"./index-D83OGZQy.js";import"./index-CrNq_pxj.js";import"./utils-iT-EhTpQ.js";import"./index-7yTPfTuF.js";import"./index-D04OhSvg.js";import"./index-DF3aAEmA.js";import"./index-CqwQ1OM8.js";import"./index-R9uhsJTI.js";import"./index-Kle8FPVE.js";import"./createLucideIcon-Cq__5p_o.js";function Xe({bootcamp:s,hasAccess:$,pendingInvoice:o,transactionDetail:g,channels:h,referralInfo:f}){var V;const{auth:H}=he().props,O=!!H.user,B=O&&((V=H.user)==null?void 0:V.phone_number),[L,re]=c.useState(!1),[w,j]=c.useState(!1),[b,te]=c.useState(""),[l,_]=c.useState(null),[K,I]=c.useState(!1),[A,k]=c.useState(""),[n,ae]=c.useState(h.length>0?h[0]:null),[se,J]=c.useState(!1),[m,R]=c.useState({ig_follow_proof:null,tiktok_follow_proof:null,tag_friend_proof:null}),[v,y]=c.useState({ig_follow_proof:!1,tiktok_follow_proof:!1,tag_friend_proof:!1}),i=s.price===0,le=s.price,oe=(l==null?void 0:l.discount_amount)||0,E=le-oe,Q=r=>{if(!r||i)return 0;const t=r.fee_customer.flat||0,a=Math.round(E*((r.fee_customer.percent||0)/100));return t+a},W=Q(n),X=i?0:E+W;c.useEffect(()=>{const t=new URLSearchParams(window.location.search).get("ref");t?sessionStorage.setItem("referral_code",t):f.code&&sessionStorage.setItem("referral_code",f.code)},[f]),c.useEffect(()=>{if(!b.trim()||i){_(null),k("");return}const r=setTimeout(()=>{ne()},500);return()=>clearTimeout(r)},[b]);const ne=async()=>{var r;if(!(!b.trim()||i)){I(!0),k("");try{const a=await(await fetch("/api/discount-codes/validate",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((r=document.querySelector('meta[name="csrf-token"]'))==null?void 0:r.content)||""},credentials:"same-origin",body:JSON.stringify({code:b,amount:s.price,product_type:"bootcamp",product_id:s.id})})).json();a.valid?(_(a),k("")):(_(null),k(a.message||"Kode promo tidak valid"))}catch{_(null),k("Terjadi kesalahan saat memvalidasi kode promo")}finally{I(!1)}}},ie=async()=>{try{const t=await(await fetch("/csrf-token",{method:"GET",credentials:"same-origin"})).json(),a=document.querySelector('meta[name="csrf-token"]');return a&&(a.content=t.token),t.token}catch(r){throw console.error("Failed to refresh CSRF token:",r),r}},de=r=>{if(r.preventDefault(),!B){alert("Profil Anda belum lengkap! Harap lengkapi nomor telepon terlebih dahulu."),window.location.href=route("profile.edit");return}if(!m.ig_follow_proof||!m.tiktok_follow_proof||!m.tag_friend_proof){alert("Harap upload semua bukti yang diperlukan!");return}j(!0);const t=new FormData;t.append("type","bootcamp"),t.append("id",s.id),t.append("ig_follow_proof",m.ig_follow_proof),t.append("tiktok_follow_proof",m.tiktok_follow_proof),t.append("tag_friend_proof",m.tag_friend_proof),fe.post(route("enroll.free"),t,{onError:a=>{console.log("Free enrollment errors:",a),alert(a.message||"Gagal mendaftar bootcamp gratis.")},onFinish:()=>{j(!1)}})},ce=async r=>{if(r.preventDefault(),!B){alert("Profil Anda belum lengkap! Harap lengkapi nomor telepon terlebih dahulu."),window.location.href=route("profile.edit");return}if(!L&&!i){alert("Anda harus menyetujui syarat dan ketentuan!");return}if(j(!0),i){J(!0),j(!1);return}const t=async(a=0)=>{var Y;const d=s.strikethrough_price>0?s.strikethrough_price-s.price:0,u=(l==null?void 0:l.discount_amount)||0,x={type:"bootcamp",id:s.id,discount_amount:d+u,nett_amount:E,total_amount:X,payment_channel:n==null?void 0:n.code};l!=null&&l.valid&&(x.discount_code_id=l.discount_code.id,x.discount_code_amount=l.discount_amount);try{const S=(Y=document.querySelector('meta[name="csrf-token"]'))==null?void 0:Y.content,z=await fetch(route("invoice.store"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":S||"",Accept:"application/json"},credentials:"same-origin",body:JSON.stringify(x)});if(z.status===419&&a<2)return console.log(`CSRF token expired, refreshing... (attempt ${a+1})`),await ie(),t(a+1);const F=await z.json();if(z.ok&&F.success)if(F.payment_url)window.location.href=F.payment_url;else throw new Error("Payment URL not received");else throw new Error(F.message||"Gagal membuat invoice.")}catch(S){throw console.error("Payment error:",S),S}};try{await t()}catch(a){alert(a.message||"Terjadi kesalahan saat proses pembayaran."),j(!1)}},me=(r,t=2)=>{const a=t*1024*1024;return r.size<=a},M=(r,t)=>{if(!t){R(a=>({...a,[r]:null})),y(a=>({...a,[r]:!1}));return}if(!me(t,2)){y(d=>({...d,[r]:!0}));const a=document.querySelector(`input[data-field="${r}"]`);a&&(a.value=""),C.error("Ukuran file terlalu besar. Maksimal 2MB.");return}if(!t.type.startsWith("image/")){y(d=>({...d,[r]:!0}));const a=document.querySelector(`input[data-field="${r}"]`);a&&(a.value=""),C.error("Hanya file gambar (JPG, PNG, GIF, dll) yang diperbolehkan.");return}R(a=>({...a,[r]:t})),y(a=>({...a,[r]:!1})),C.success("File berhasil diunggah.")},xe=r=>{const t=h.find(a=>a.code===r);return(t==null?void 0:t.name)||r},ge=r=>{const t=h.find(a=>a.code===r);return(t==null?void 0:t.icon_url)||""},D=r=>{const t=new Date,d=new Date(r).getTime()-t.getTime();if(d<=0)return{time:"Sudah kadaluarsa",status:"expired"};const u=Math.floor(d/(1e3*60*60)),x=Math.floor(d%(1e3*60*60)/(1e3*60));return u<1?{time:`${x} menit lagi`,status:"urgent"}:{time:`${u} jam ${x} menit lagi`,status:u<3?"urgent":"normal"}},pe=r=>{navigator.clipboard.writeText(r).then(()=>{C.success("Berhasil menyalin ke clipboard!")})},ue=r=>{if(!r)return null;switch(r){case"beginner":return e.jsx("span",{className:"rounded-full bg-green-100 px-3 py-1 text-xs font-medium text-green-700 dark:bg-green-900/30 dark:text-green-300",children:"Beginner"});case"intermediate":return e.jsx("span",{className:"rounded-full bg-yellow-100 px-3 py-1 text-xs font-medium text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300",children:"Intermediate"});case"advanced":return e.jsx("span",{className:"rounded-full bg-red-100 px-3 py-1 text-xs font-medium text-red-700 dark:bg-red-900/30 dark:text-red-300",children:"Advanced"});default:return null}};if(!O){const r=window.location.href,t=route("login",{redirect:r});return e.jsxs("div",{className:"min-h-screen bg-[url('/assets/images/bg-product.png')] bg-cover bg-center bg-no-repeat",children:[e.jsx(q,{title:"Login Required"}),e.jsx("section",{className:"flex min-h-screen items-center justify-center px-4 py-12",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-6 rounded-2xl border bg-white/95 p-8 shadow-xl backdrop-blur-sm dark:bg-gray-800/95",children:[e.jsx("div",{className:"rounded-full bg-blue-100 p-6 dark:bg-blue-900/30",children:e.jsx(Z,{size:48,className:"text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"mb-2 text-2xl font-bold",children:"Login Diperlukan"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Silakan login terlebih dahulu untuk mendaftar bootcamp",f.hasActive&&". Kode referral Anda akan tetap tersimpan"]})]}),e.jsxs("div",{className:"flex w-full gap-3",children:[e.jsx(p,{asChild:!0,className:"flex-1",size:"lg",children:e.jsx("a",{href:t,children:"Login"})}),e.jsx(p,{asChild:!0,variant:"outline",className:"flex-1",size:"lg",children:e.jsx(P,{href:route("register",f.code?{ref:f.code}:{}),children:"Daftar"})})]})]})})})]})}return B?e.jsxs("div",{className:"min-h-screen bg-[url('/assets/images/bg-product.png')] bg-cover bg-center bg-no-repeat",children:[e.jsx(q,{title:"Daftar Bootcamp"}),e.jsxs("section",{className:"mx-auto w-full max-w-7xl px-4 py-12",children:[e.jsxs("div",{className:"mb-8 px-4",children:[e.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(P,{href:"/bootcamp",className:"hover:text-orange-600",children:"Bootcamp"}),e.jsx("span",{children:"/"}),e.jsx(P,{href:`/bootcamp/${s.slug}`,className:"hover:text-orange-600",children:s.title}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-gray-900 dark:text-white",children:"Daftar"})]}),e.jsx("h1",{className:"mt-8 text-3xl font-bold text-gray-900 md:text-4xl dark:text-white",children:"Daftar Bootcamp"})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:o?"lg:col-span-3":"lg:col-span-2",children:[e.jsxs("div",{className:"overflow-hidden rounded-2xl border bg-white/95 shadow-xl backdrop-blur-sm dark:bg-gray-800/95",children:[e.jsx("div",{className:"border-b bg-gray-50/80 p-4 dark:bg-gray-900/80",children:e.jsxs("div",{className:"flex items-center gap-2 text-gray-900 dark:text-white",children:[e.jsx(ke,{className:"h-5 w-5"}),e.jsx("h2",{className:"text-lg font-semibold",children:"Detail Pesanan"})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"h-24 w-32 flex-shrink-0 overflow-hidden rounded-lg",children:e.jsx("img",{src:s.thumbnail?`/storage/${s.thumbnail}`:"/assets/images/placeholder.png",alt:s.title,className:"h-full w-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"mb-2 inline-block rounded-full bg-purple-100 px-3 py-1 text-xs font-medium text-purple-700 dark:bg-purple-900/30 dark:text-purple-300",children:"Bootcamp"}),e.jsx("h3",{className:"mb-2 text-lg font-semibold text-gray-900 dark:text-white",children:s.title}),e.jsxs("div",{className:"flex items-center gap-2",children:[ue(s.level),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(ye,{size:16}),e.jsxs("span",{children:[new Date(s.start_date).toLocaleDateString("id-ID",{day:"numeric",month:"short"})," ","-"," ",new Date(s.end_date).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})]})]})]})]})]})})]}),!i&&h.length>0&&!o&&!$&&e.jsxs("div",{className:"mt-6 overflow-hidden rounded-2xl border bg-white/95 shadow-xl backdrop-blur-sm dark:bg-gray-800/95",children:[e.jsx("div",{className:"border-b bg-gray-50/80 p-4 dark:bg-gray-900/80",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Metode Pembayaran"})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"grid gap-3",children:h.map(r=>e.jsxs("div",{onClick:()=>ae(r),className:`group cursor-pointer rounded-xl border-2 p-4 transition-all ${(n==null?void 0:n.code)===r.code?"border-orange-500 bg-orange-50/50 dark:bg-orange-950/20":"border-gray-200 hover:border-orange-300 dark:border-gray-700 dark:hover:border-orange-600"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-1 items-center gap-4",children:[e.jsx("div",{className:"h-12 w-12 flex-shrink-0 overflow-hidden rounded-lg bg-gray-100 dark:bg-gray-700",children:e.jsx("img",{src:r.icon_url,alt:r.name,className:"h-full w-full object-contain p-1"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:r.name}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:r.group})]})]}),e.jsx("div",{className:"flex h-5 w-5 flex-shrink-0 items-center justify-center rounded-full border-2 transition-all",style:{borderColor:(n==null?void 0:n.code)===r.code?"#ea580c":"#d1d5db",backgroundColor:(n==null?void 0:n.code)===r.code?"#ea580c":"transparent"},children:(n==null?void 0:n.code)===r.code&&e.jsx(U,{className:"h-3 w-3 text-white"})})]}),(n==null?void 0:n.code)===r.code&&e.jsx("div",{className:"mt-4 border-t border-orange-200 pt-4 dark:border-orange-900",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-white",children:"Biaya Admin"}),e.jsxs("span",{className:"font-semibold text-orange-600",children:["Rp ",Q(r).toLocaleString("id-ID")]})]})})]},r.code))})})]})]}),e.jsx("div",{className:o?"lg:col-span-3":"lg:col-span-1",children:$?e.jsxs("div",{className:"flex h-full flex-col items-center justify-center space-y-4 rounded-2xl border bg-white/95 p-6 text-center shadow-xl backdrop-blur-sm dark:bg-gray-800/95",children:[e.jsx("div",{className:"rounded-full bg-green-100 p-4 dark:bg-green-900/30",children:e.jsx(Ne,{size:48,className:"text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"mb-2 text-xl font-bold",children:"Sudah Memiliki Akses"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Anda sudah terdaftar di bootcamp ini. Silakan masuk ke grup."})]}),e.jsx(p,{asChild:!0,className:"w-full",size:"lg",children:e.jsx("a",{href:s.group_url??"",target:"_blank",rel:"noopener noreferrer",children:"Masuk Grup Bootcamp"})})]}):o?e.jsxs("div",{className:"overflow-hidden rounded-2xl border bg-white/95 shadow-xl backdrop-blur-sm dark:bg-gray-800/95",children:[e.jsx("div",{className:"border-b p-4 dark:bg-yellow-900/20",style:{backgroundColor:D(o.expires_at).status==="expired"&&o.status==="pending"?"#fee2e2":"rgba(254, 249, 195, 0.5)"},children:e.jsx("div",{className:"flex items-center gap-2",children:D(o.expires_at).status==="expired"&&o.status==="pending"?e.jsxs(e.Fragment,{children:[e.jsx(ee,{className:"h-5 w-5 text-red-600"}),e.jsx("h2",{className:"text-lg font-semibold text-red-700 dark:text-red-300",children:"Pembayaran Gagal"})]}):e.jsxs(e.Fragment,{children:[e.jsx(we,{className:"h-5 w-5 text-yellow-600"}),e.jsx("h2",{className:"text-lg font-semibold text-yellow-900 dark:text-yellow-200",children:"Pembayaran Tertunda"})]})})}),e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"space-y-3 rounded-lg bg-gray-50 p-4 dark:bg-gray-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"No. Invoice"}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:o.invoice_code})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Metode Pembayaran"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:ge(o.payment_channel),alt:o.payment_channel,className:"h-5 w-5 object-contain"}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:(g==null?void 0:g.payment_name)||xe(o.payment_channel)})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Pembayaran"}),e.jsxs("span",{className:"text-xl font-bold text-orange-600",children:["Rp ",o.amount.toLocaleString("id-ID")]})]})]}),D(o.expires_at).status==="expired"&&o.status==="pending"?e.jsx("div",{className:"rounded-lg bg-red-50 p-4 dark:bg-red-900/20",children:e.jsxs("p",{className:"text-sm font-semibold text-red-700 dark:text-red-300",children:["Waktu pembayaran telah habis. Jika Anda sudah membayar atau butuh bantuan, silakan hubungi admin melaluiÂ ",e.jsx("a",{href:"https://wa.me/6289528514480",target:"_blank",rel:"noopener noreferrer",className:"font-bold text-orange-600 underline",children:"WhatsApp Admin"}),"."]})}):e.jsxs(e.Fragment,{children:[o.va_number&&e.jsxs("div",{className:"space-y-3 rounded-lg bg-blue-50 p-4 dark:bg-blue-900/20",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Nomor Virtual Account"}),e.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-white p-3 dark:bg-gray-700",children:[e.jsx("span",{className:"font-mono text-lg font-bold text-gray-900 dark:text-white",children:o.va_number}),e.jsx("button",{onClick:()=>pe(o.va_number),className:"rounded-lg bg-blue-600 px-3 py-2 text-xs font-medium text-white transition-colors hover:cursor-pointer hover:bg-blue-700",children:"Salin"})]})]}),o.qr_code_url&&e.jsxs("div",{className:"space-y-3 rounded-lg bg-purple-50 p-4 dark:bg-purple-900/20",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Kode QR Pembayaran"}),e.jsx("div",{className:"flex justify-center rounded-lg bg-white p-4 dark:bg-gray-700",children:e.jsx("img",{src:o.qr_code_url,alt:"QR Code",className:"h-48 w-48 object-contain"})}),e.jsx("a",{href:o.qr_code_url,download:!0,className:"block rounded-lg bg-purple-600 px-4 py-2 text-center text-sm font-medium text-white transition-colors hover:bg-purple-700",children:"Download QR Code"})]}),g!=null&&g.instructions&&g.instructions.length>0?e.jsxs("div",{className:"space-y-4 rounded-lg bg-gray-50 p-4 dark:bg-gray-700/50",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Langkah Pembayaran"}),e.jsx("div",{className:"space-y-4",children:g.instructions.map((a,d)=>e.jsxs("details",{className:"group rounded-lg border border-gray-200 dark:border-gray-600",open:d===0,children:[e.jsxs("summary",{className:"flex cursor-pointer items-center justify-between bg-gray-100 px-4 py-3 hover:bg-gray-200 dark:bg-gray-600 dark:hover:bg-gray-500",children:[e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:a.title}),e.jsx("span",{className:"text-gray-600 transition-transform group-open:rotate-180 dark:text-gray-300",children:"â–¼"})]}),e.jsx("div",{className:"space-y-3 bg-white px-4 py-4 dark:bg-gray-700",children:e.jsx("ol",{className:"space-y-2",children:a.steps.map((u,x)=>e.jsxs("li",{className:"flex gap-3",children:[e.jsx("span",{className:"flex h-6 w-6 flex-shrink-0 items-center justify-center rounded-full bg-gradient-to-br from-orange-400 to-orange-600 text-xs font-bold text-white",children:x+1}),e.jsx("span",{className:"flex-1 pt-0.5 text-sm text-gray-700 dark:text-gray-300",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:u}})})]},x))})})]},d))})]}):null]}),e.jsx(p,{onClick:()=>window.location.reload(),variant:"outline",className:"w-full",size:"lg",children:"Cek Status Pembayaran"})]})]}):se?e.jsx("form",{onSubmit:de,children:e.jsxs("div",{className:"overflow-hidden rounded-2xl border bg-white/95 shadow-xl backdrop-blur-sm dark:bg-gray-800/95",children:[e.jsx("div",{className:"border-b bg-gray-50/80 p-4 dark:bg-gray-900/80",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Upload Bukti Follow & Tag"})}),e.jsxs("div",{className:"space-y-4 p-6",children:[e.jsxs("div",{children:[e.jsx(N,{htmlFor:"ig_follow_proof",children:"Bukti Follow Instagram"}),e.jsx(T,{id:"ig_follow_proof","data-field":"ig_follow_proof",type:"file",accept:"image/*",onChange:r=>{var t;return M("ig_follow_proof",((t=r.target.files)==null?void 0:t[0])||null)},className:v.ig_follow_proof?"border-red-500":"",required:!0}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Screenshot profil Instagram @brevetpajak_talenta yang menunjukkan follow (Maks. 2MB)"})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"tiktok_follow_proof",children:"Bukti Follow TikTok"}),e.jsx(T,{id:"tiktok_follow_proof","data-field":"tiktok_follow_proof",type:"file",accept:"image/*",onChange:r=>{var t;return M("tiktok_follow_proof",((t=r.target.files)==null?void 0:t[0])||null)},className:v.tiktok_follow_proof?"border-red-500":"",required:!0}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Screenshot profil TikTok @brevetpajak_talenta yang menunjukkan follow (Maks. 2MB)"})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"tag_friend_proof",children:"Bukti Tag 3 Teman"}),e.jsx(T,{id:"tag_friend_proof","data-field":"tag_friend_proof",type:"file",accept:"image/*",onChange:r=>{var t;return M("tag_friend_proof",((t=r.target.files)==null?void 0:t[0])||null)},className:v.tag_friend_proof?"border-red-500":"",required:!0}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Screenshot komentar yang menunjukkan tag 3 teman (Maks. 2MB)"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(p,{type:"button",variant:"outline",onClick:()=>{J(!1),y({ig_follow_proof:!1,tiktok_follow_proof:!1,tag_friend_proof:!1}),R({ig_follow_proof:null,tiktok_follow_proof:null,tag_friend_proof:null})},className:"flex-1",children:"Kembali"}),e.jsx(p,{type:"submit",disabled:w||!m.ig_follow_proof||!m.tiktok_follow_proof||!m.tag_friend_proof||Object.values(v).some(r=>r),className:"flex-1",children:w?"Memproses...":"Dapatkan Akses Gratis"})]})]})]})}):e.jsx("form",{onSubmit:ce,children:e.jsxs("div",{className:"overflow-hidden rounded-2xl border bg-white/95 shadow-xl backdrop-blur-sm dark:bg-gray-800/95",children:[e.jsx("div",{className:"border-b bg-gray-50/80 p-4 dark:bg-gray-900/80",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:i?"Detail Pendaftaran":"Ringkasan Pembayaran"})}),e.jsxs("div",{className:"space-y-4 p-6",children:[i?e.jsxs("div",{className:"rounded-lg bg-green-50 p-6 text-center dark:bg-green-900/20",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:"BOOTCAMP GRATIS"}),e.jsx("p",{className:"mt-2 text-sm text-green-700 dark:text-green-300",children:"Dapatkan akses dengan mengikuti persyaratan berikut"}),e.jsxs("ul",{className:"mt-4 space-y-1 text-left text-sm text-green-700 dark:text-green-300",children:[e.jsxs("li",{children:["â€¢ Follow Instagram"," ",e.jsx("a",{href:"https://www.instagram.com/brevetpajak_talenta/",target:"_blank",rel:"noopener noreferrer",className:"font-medium underline",children:"@brevetpajak_talenta"})]}),e.jsxs("li",{children:["â€¢ Follow TikTok"," ",e.jsx("a",{href:"https://www.tiktok.com/@brevetpajak_talenta",target:"_blank",rel:"noopener noreferrer",className:"font-medium underline",children:"@brevetpajak_talenta"})]}),e.jsx("li",{children:"â€¢ Tag 3 teman di postingan Instagram kami"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{htmlFor:"promo-code",className:"text-sm font-medium",children:"Punya Kode Promo?"}),e.jsxs("div",{className:"relative",children:[e.jsx(T,{id:"promo-code",type:"text",placeholder:"Masukkan kode promo",value:b,onChange:r=>te(r.target.value.toUpperCase()),className:"pr-10"}),K&&e.jsx("div",{className:"absolute top-1/2 right-3 -translate-y-1/2",children:e.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-b-2 border-orange-600"})}),!K&&b&&e.jsx("div",{className:"absolute top-1/2 right-3 -translate-y-1/2",children:l!=null&&l.valid?e.jsx(U,{className:"h-5 w-5 text-green-600"}):A?e.jsx(ee,{className:"h-5 w-5 text-red-600"}):null})]}),A&&e.jsx("p",{className:"text-sm text-red-600",children:A}),(l==null?void 0:l.valid)&&e.jsxs("div",{className:"rounded-lg border border-green-200 bg-green-50 p-3 dark:border-green-800 dark:bg-green-900/20",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-4 w-4 text-green-600"}),e.jsxs("p",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:['Promo "',l.discount_code.code,'" diterapkan!']})]}),e.jsx("p",{className:"mt-1 text-xs text-green-600 dark:text-green-300",children:l.discount_code.name})]})]}),e.jsx(G,{}),e.jsxs("div",{className:"space-y-3",children:[s.strikethrough_price>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Harga Asli"}),e.jsxs("span",{className:"font-medium text-gray-500 line-through dark:text-gray-400",children:["Rp ",s.strikethrough_price.toLocaleString("id-ID")]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Diskon"}),e.jsxs("span",{className:"font-semibold text-red-600",children:["-Rp ",(s.strikethrough_price-s.price).toLocaleString("id-ID")]})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Harga Bootcamp"}),e.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:["Rp ",s.price.toLocaleString("id-ID")]})]}),(l==null?void 0:l.valid)&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Diskon Promo (",l.discount_code.code,")"]}),e.jsxs("span",{className:"font-semibold text-green-600",children:["-Rp ",l.discount_amount.toLocaleString("id-ID")]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Biaya Transaksi"}),e.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:["Rp ",W.toLocaleString("id-ID")]})]}),e.jsx(G,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:"Total Pembayaran"}),e.jsxs("span",{className:"text-2xl font-bold text-orange-600",children:["Rp ",X.toLocaleString("id-ID")]})]})]})]}),!i&&e.jsxs(e.Fragment,{children:[e.jsx(G,{}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(be,{id:"terms",checked:L,onCheckedChange:r=>re(r===!0),className:"mt-1"}),e.jsxs(N,{htmlFor:"terms",className:"text-sm leading-relaxed text-gray-600 dark:text-gray-400",children:["Saya menyetujui"," ",e.jsx("a",{href:"/terms-and-conditions",target:"_blank",className:"font-medium text-orange-600 hover:underline",children:"syarat dan ketentuan"})," ","yang berlaku"]})]})]}),e.jsx(p,{className:"w-full",type:"submit",disabled:(i?!1:!L)||w,size:"lg",children:w?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-b-2 border-white"}),"Memproses..."]}):i?"Upload Bukti Follow":"Bayar Sekarang"}),e.jsx("p",{className:"text-center text-xs text-gray-500 dark:text-gray-400",children:"Pembayaran aman dan terenkripsi ðŸ”’"})]})]})})})]})]}),e.jsx(je,{position:"top-center",richColors:!0})]}):e.jsxs("div",{className:"min-h-screen bg-[url('/assets/images/bg-product.png')] bg-cover bg-center bg-no-repeat",children:[e.jsx(q,{title:"Daftar Bootcamp"}),e.jsx("section",{className:"flex min-h-screen items-center justify-center px-4 py-12",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-6 rounded-2xl border bg-white/95 p-8 shadow-xl backdrop-blur-sm dark:bg-gray-800/95",children:[e.jsx("div",{className:"rounded-full bg-orange-100 p-6 dark:bg-orange-900/30",children:e.jsx(Z,{size:48,className:"text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"mb-2 text-2xl font-bold",children:"Profil Belum Lengkap"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Harap lengkapi nomor telepon terlebih dahulu untuk melanjutkan pendaftaran"})]}),e.jsx(p,{asChild:!0,className:"w-full",size:"lg",children:e.jsx(P,{href:route("profile.edit",{redirect:window.location.href}),children:"Lengkapi Profil"})})]})})})]})}export{Xe as default};
