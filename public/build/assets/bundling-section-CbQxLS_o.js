import{r as a,j as t,$ as L}from"./app-Bo7nQjzy.js";import{B as z}from"./button-DHepeUnS.js";import{I as M}from"./input-BL0vjSCO.js";import{S}from"./search-BCLIg-Tk.js";import{P as B}from"./percent-Dcm8uS_E.js";import{P as D}from"./package-bvu5_JWB.js";import{C as _}from"./calendar-DXmXNVf7.js";import{U as P}from"./users-ByIWvWvg.js";/* empty css            */import"./index-Cmt44q6q.js";import"./index-WmE5T16e.js";import"./utils-D0WErUGI.js";import"./createLucideIcon-COjwab5x.js";function A({bundles:b,categories:c=[]}){const[n,d]=a.useState(null),[l,y]=a.useState(""),[m,v]=a.useState(6),s=a.useRef(null),i=a.useRef(!1),x=a.useRef(0),u=a.useRef(0),j=e=>{var r,o;i.current=!0,x.current=e.pageX-(((r=s.current)==null?void 0:r.offsetLeft)??0),u.current=((o=s.current)==null?void 0:o.scrollLeft)??0},w=()=>{i.current=!1},k=()=>{i.current=!1},N=e=>{if(!i.current||!s.current)return;e.preventDefault();const o=(e.pageX-s.current.offsetLeft-x.current)*1.5;s.current.scrollLeft=u.current-o},h=b.filter(e=>{var f;const r=e.title.toLowerCase().includes(l.toLowerCase()),o=n===null?!0:((f=e.category)==null?void 0:f.id)===n;return r&&e.status==="published"&&o}),p=h.slice(0,m),g=e=>e.toLocaleString("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}),C=(e,r)=>e===0?0:Math.round((e-r)/e*100);return t.jsxs("section",{className:"mx-auto w-full max-w-7xl px-4 py-12",id:"bundles",children:[t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between mb-4",children:[t.jsx("h1",{className:"text-5xl font-bold font-literata text-primary text-center md:text-left mb-8 md:mb-0",children:"Bundling Program"}),c.length>0&&t.jsx("div",{className:"overflow-x-auto bg-primary p-2 rounded-xl mb-2 md:mb-0",ref:s,onMouseDown:j,onMouseLeave:w,onMouseUp:k,onMouseMove:N,style:{scrollbarWidth:"none",cursor:i.current?"grabbing":"grab"},children:t.jsxs("div",{className:"flex w-max flex-nowrap gap-2 select-none",children:[t.jsx("button",{type:"button",onClick:()=>d(null),className:`rounded-xl px-4 py-2 text-sm transition hover:cursor-pointer ${n===null?"to-primary text-primary border-primary bg-white":"hover:bg-white hover:text-primary dark:hover:bg-primary/10 bg-primary border-gray-300 text-white dark:border-zinc-100/20 dark:bg-zinc-800 dark:text-zinc-100"} `,children:"Semua"}),c.map(e=>t.jsx("button",{type:"button",onClick:()=>d(e.id),className:`rounded-xl  px-4 py-2 text-sm transition hover:cursor-pointer ${n===e.id?"to-primary text-primary border-primary bg-white":" hover:bg-white hover:text-primary dark:hover:bg-primary/10 bg-primary border-gray-300 text-white dark:border-zinc-100/20 dark:bg-zinc-800 dark:text-zinc-100"} `,children:e.name},e.id))]})})]}),t.jsxs("div",{className:"relative mb-8 flex",children:[t.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:t.jsx(S,{size:20})}),t.jsx(M,{type:"search",placeholder:"Cari Program bundling...",value:l,onChange:e=>y(e.target.value),className:"px-4 py-6 pl-10"})]}),t.jsx("div",{className:"mb-4 grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:p.length===0?t.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center gap-4 py-12",children:[t.jsx("img",{src:"/assets/images/not-found.webp",alt:"Paket Bundling Belum Tersedia",className:"w-48"}),t.jsx("div",{className:"text-center text-gray-500",children:l?"Tidak ada paket bundling yang sesuai dengan pencarian.":"Belum ada paket bundling yang tersedia saat ini."})]}):p.map(e=>{const r=C(e.strikethrough_price,e.price);return t.jsx(L,{href:route?route("bundle.detail",e.slug):`/bundling/${e.slug}`,className:"group h-full rounded-xl hover:shadow-sm hover:shadow-primary border-1 border-primary",children:t.jsxs("div",{className:"relative flex flex-col h-[480px] overflow-hidden rounded-xl transition-all duration-300 hover:shadow-xl hover:scale-100 before:absolute before:inset-0 before:rounded-xl before:bg-gradient-to-br before:from-white before:to-primary-2 before:via-primary before:opacity-0 before:transition-opacity before:duration-300 hover:before:opacity-100 before:z-[-1]",children:[t.jsxs("div",{className:"relative h-48 w-full overflow-hidden flex-shrink-0",children:[t.jsx("img",{src:e.thumbnail?`/storage/${e.thumbnail}`:"/assets/images/placeholder.png",alt:e.title,className:"h-full w-full object-cover transition-transform duration-300"}),e.category&&t.jsx("span",{className:"absolute top-3 right-3 rounded-full bg-gray-100/70 border border-primary px-3 py-1 text-xs text-black dark:bg-gray-700 dark:text-black",children:e.category.name}),r>0&&t.jsxs("span",{className:"absolute top-3 left-3 rounded-full bg-red-500 px-3 py-1 text-xs text-white flex items-center gap-1",children:[t.jsx(B,{size:12}),"Hemat ",r,"%"]}),t.jsxs("span",{className:"absolute bottom-3 left-3 rounded-full bg-white/90 px-3 py-1 text-xs text-gray-900 flex items-center gap-1 dark:bg-gray-900/90 dark:text-white",children:[t.jsx(D,{size:12}),e.bundle_items_count," Program"]})]}),t.jsxs("div",{className:"flex flex-col flex-1 justify-start p-4 min-h-0",children:[t.jsx("h2",{className:"group-hover:text-white mb-1 line-clamp-2 text-xl font-semibold text-gray-900 dark:text-white font-literata",children:e.title}),t.jsx("div",{className:"mb-3",children:e.price===0?t.jsx("span",{className:"text-green-600 dark:text-green-400 text-xl font-bold",children:"Gratis"}):t.jsxs(t.Fragment,{children:[e.strikethrough_price>0&&t.jsx("p",{className:"text-sm text-red-500 line-through",children:g(e.strikethrough_price)}),t.jsx("p",{className:"group-hover:text-white text-2xl font-literata font-semibold text-gray-900 dark:text-white",children:g(e.price)})]})}),e.registration_deadline&&t.jsxs("div",{className:"group-hover:text-white mb-3 flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[t.jsx(_,{size:16}),t.jsx("span",{children:new Date(e.registration_deadline).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})})]}),t.jsxs("div",{className:"group-hover:text-white flex flex-row items-center justify-center mr-auto gap-2 text-sm text-gray-600 dark:text-gray-400",children:[t.jsx(P,{size:16}),t.jsxs("span",{children:[e.bundle_items_count," Program"]})]}),t.jsx("div",{children:t.jsx("p",{className:"mb-3 group-hover:text-white mt-2 line-clamp-3 text-gray-700 dark:text-gray-300 text-sm",children:e.short_description})}),t.jsx("div",{className:"justify-self-end text-center text-primary group-hover:text-white group-hover:border-white border-1 border-primary rounded-lg py-1 mt-auto",children:"Mulai Belajar"})]})]})},e.id)})}),m<h.length&&t.jsx("div",{className:"mb-8 flex justify-center",children:t.jsx(z,{type:"button",className:"mt-8 hover:cursor-pointer text-lg px-16 bg-primary py-6 border border-white shadow-xl hover:scale-105 transition-all duration-300 hover:text-white",onClick:()=>v(e=>e+6),children:"Lihat Lebih Banyak"})})]})}export{A as default};
