import{r as h,j as e,L as he,S as xe}from"./app-B9k543NU.js";import{A as Y,a as z,b as H}from"./avatar-K9Q5xXWF.js";import{B as g}from"./button-DWq4XQ52.js";import{a as U,C as _}from"./calendar-C9M6WqT9.js";import{C as ge}from"./checkbox-Cr0wStQq.js";import{C as q,a as G,b as K,c as V,d as J,e as Q}from"./command-Cg8SlvIe.js";import{u as je,F as ve,a as o,b as l,c,d as j,e as m,f}from"./form-zX-mry1Q.js";import{I as u}from"./input-B_Jr_SfU.js";import{L as be}from"./label-BQPqA9h7.js";import{P as k,a as w,b as C}from"./popover-1srCRybB.js";import{S as fe}from"./switch-nZO2aKae.js";import{T as X}from"./textarea-C_TUueEf.js";import{u as ke}from"./use-initials-CA5n79aC.js";import{A as we}from"./admin-layout-UOEM0eDK.js";import{c as S,r as Z,p as ee}from"./utils-DNwDO3wP.js";import{s as Ce,o as Ne,c as Se,n as y,b as p,a as ye}from"./types-DDJkfg42.js";import{E as De}from"./Editor-Bd-xPiHh.js";import{t as ae}from"./index-BoBOq2RS.js";import{e as Te,t as _e,q as Fe}from"./format-CNjBDjOL.js";import{B as Me}from"./book-marked-Dr6-nPNU.js";import{C as te}from"./chevrons-up-down-CWEHdZBK.js";import{C as se}from"./check-BG-2gSzy.js";import{C as $e}from"./calendar-fold-Q7XICaRo.js";import{C as F}from"./chevron-down-p-BxrI1x.js";import{U as Pe}from"./user-round-ClTGXdro.js";import{s as Ie,a as Le,b as Oe}from"./setSeconds-Bils3bgI.js";import"./index-D_Q69Lzo.js";import"./index-BK_UWH4g.js";import"./index-BRg3vzdq.js";import"./index-8wMXBjkj.js";import"./index-qYu_OV1P.js";import"./chevron-left-CTF3anT5.js";import"./createLucideIcon-BIzRavGD.js";import"./chevron-right-HyNfPIAz.js";import"./index-BVS-bPzl.js";import"./index-Cf-JJrIS.js";import"./index-D4yuA-TT.js";import"./index-Dh5hHpbY.js";import"./Combination-CJRSUlLR.js";import"./index-CXQSgMJz.js";import"./floating-ui.react-dom-Dh-Wg6z5.js";import"./dialog-B2oiLzVm.js";import"./x-Di2ae29F.js";import"./search-DkF3a4tP.js";import"./sonner-CtdgLmfI.js";import"./breadcrumbs-BadV6xlx.js";import"./tooltip-BX41d577.js";import"./index-CxTepKCm.js";import"./dropdown-menu-C06qPCCE.js";import"./index-YtxiWvKx.js";import"./user-ymxNUy8p.js";import"./app-sidebar-header-D1IrFlrJ.js";import"./user-check-C3066dr6.js";import"./users-B8Rr1364.js";import"./presentation-BUBZ1gUl.js";import"./gift-Bb5d3i4m.js";import"./banknote-DLyCAYFj.js";import"./dollar-sign-BdRAD1m4.js";import"./file-text-DWMqDS0p.js";import"./index-C166bkIT.js";function Ee(d,v,N){return Te(d,+_e(d)+v)}function Ae(d,v,N){return Ee(d,v*Fe)}const Be=[{title:"Webinar",href:route("webinars.index")},{title:"Tambah Webinar Baru",href:route("webinars.create")}],We=Ne({user_id:p().nonempty("Mentor harus dipilih"),title:p().nonempty("Judul harus diisi"),category_id:p().nonempty("Kategori harus dipilih"),description:p().nullable(),benefits:p().nullable(),thumbnail:ye().nullable(),start_time:p(),end_time:p(),registration_deadline:p(),strikethrough_price:y().min(0),price:y().min(0),quota:y().min(0),group_url:p().nullable(),batch:y().min(0),tools:Se(p()).optional()}).refine(d=>d.strikethrough_price>0?d.strikethrough_price>d.price:!0,{message:"Harga coret harus lebih besar dari harga normal.",path:["strikethrough_price"]});function Ga({categories:d,tools:v,mentors:N}){const M=ke(),[re,$]=h.useState(!1),[ne,P]=h.useState(!1),[ie,I]=h.useState(!1),[oe,L]=h.useState(!1),[le,O]=h.useState(!1),[E,ce]=h.useState(!1),[me,A]=h.useState(null),[de,D]=h.useState(!1),B=new Date,W=U(B,7),pe=Ae(W,2);let x=U(B,6);x=Ie(x,23),x=Le(x,59),x=Oe(x,0);const r=je({resolver:Ce(We),defaultValues:{user_id:"",title:"",category_id:"",description:"",benefits:`<ul>
                        <li>Mendapatkan materi eksklusif (Contoh)</li>
                        <li>Sertifikat peserta (Contoh)</li>
                        <li>Akses rekaman webinar (Contoh)</li>
                    </ul>`,thumbnail:"",start_time:W.toISOString(),end_time:pe.toISOString(),registration_deadline:x.toISOString(),strikethrough_price:0,price:0,quota:0,group_url:"",batch:1,tools:[]}});function ue(a){xe.post(route("webinars.store"),a,{forceFormData:!0})}const b=N.find(a=>a.id===r.watch("user_id"));return e.jsxs(we,{breadcrumbs:Be,children:[e.jsx(he,{title:"Tambah Webinar Baru"}),e.jsxs("div",{className:"px-4 py-4 md:px-6",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Tambah Webinar Baru"}),e.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl text-sm",children:'Silakan isi form di bawah ini untuk membuat webinar baru. Setelah selesai, klik tombol "Simpan Draft" untuk menyimpan webinar sebagai draft.'}),e.jsx(ve,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(ue),className:"grid grid-cols-1 items-start gap-6 lg:grid-cols-2",children:[e.jsxs("div",{className:"space-y-6 rounded-lg border p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Me,{size:16}),e.jsx("h3",{className:"font-medium",children:"Detail Informasi Webinar"})]}),e.jsx(o,{control:r.control,name:"title",render:({field:a})=>e.jsxs(l,{children:[e.jsxs(c,{children:["Judul Webinar ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(j,{children:e.jsx(u,{placeholder:"Masukkan judul webinar",...a,autoComplete:"off"})}),e.jsx(m,{})]})}),e.jsx(o,{control:r.control,name:"category_id",render:({field:a})=>{var t;return e.jsxs(l,{className:"flex flex-col",children:[e.jsxs(c,{children:["Kategori ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(k,{open:re,onOpenChange:$,children:[e.jsx(w,{asChild:!0,children:e.jsx(j,{children:e.jsxs(g,{variant:"outline",role:"combobox",className:S("justify-between",!a.value&&"text-muted-foreground"),children:[a.value?(t=d.find(s=>s.id===a.value))==null?void 0:t.name:"Pilih kategori",e.jsx("span",{className:"sr-only",children:"Pilih kategori"}),e.jsx(te,{className:"opacity-50"})]})})}),e.jsx(C,{className:"p-0",children:e.jsxs(q,{children:[e.jsx(G,{placeholder:"Cari kategori...",className:"h-9"}),e.jsxs(K,{children:[e.jsx(V,{children:"Tidak ada kategori ditemukan."}),e.jsx(J,{children:d.map(s=>e.jsxs(Q,{value:s.name,onSelect:()=>{r.setValue("category_id",s.id),$(!1)},children:[s.name,e.jsx(se,{className:S("ml-auto",s.id===a.value?"opacity-100":"opacity-0")})]},s.id))})]})]})})]}),e.jsx(m,{})]})}}),e.jsx(o,{control:r.control,name:"tools",render:()=>e.jsxs(l,{children:[e.jsx(c,{children:"Tools yang Digunakan"}),e.jsx("div",{className:"text-muted-foreground mb-2 text-sm",children:"Pilih tools yang digunakan pada bootcamp ini."}),e.jsx("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:v.map(a=>e.jsx(o,{control:r.control,name:"tools",render:({field:t})=>{var s;return e.jsxs(l,{className:"flex flex-row items-center gap-2 space-y-0",children:[e.jsx(j,{children:e.jsx(ge,{checked:(s=t.value)==null?void 0:s.includes(a.id),onCheckedChange:i=>{var n;i?t.onChange([...t.value??[],a.id]):t.onChange((n=t.value)==null?void 0:n.filter(T=>T!==a.id))}})}),e.jsx(c,{className:"text-sm font-normal",children:a.name})]})}},a.id))}),e.jsx(m,{})]})}),e.jsx(o,{control:r.control,name:"description",render:({field:a})=>e.jsxs(l,{children:[e.jsx(c,{children:"Deskripsi Lengkap"}),e.jsx(X,{...a,value:a.value??"",className:"w-full rounded border p-2",placeholder:"Masukkan deskripsi lengkap",autoComplete:"off"}),e.jsx(m,{})]})}),e.jsx(o,{control:r.control,name:"thumbnail",render:({field:a})=>e.jsxs(l,{children:[e.jsx(c,{children:"Thumbnail (File Upload)"}),e.jsx("img",{src:me||"/assets/images/placeholder.png",alt:"Preview Thumbnail",className:"my-1 mt-2 h-40 w-64 rounded border object-cover"}),e.jsx(u,{type:"file",name:a.name,accept:"image/png, image/jpeg, image/jpg",className:de?"border-red-500 focus-visible:ring-red-500":"",onChange:t=>{var i;const s=((i=t.target.files)==null?void 0:i[0])??null;if(s){if(!["image/png","image/jpeg","image/jpg"].includes(s.type)){D(!0),ae("Gambar harus png, jpg, atau jpeg");return}if(s.size>2*1024*1024){D(!0),ae("Ukuran file maksimal 2MB!");return}}if(D(!1),a.onChange(s),s){const n=new FileReader;n.onload=T=>{var R;return A((R=T.target)==null?void 0:R.result)},n.readAsDataURL(s)}else A(null)}}),e.jsx(f,{className:"ms-1",children:"Upload Icon. Format: PNG atau JPG Max 2 Mb"}),e.jsx(m,{})]})}),e.jsxs("div",{className:"space-y-4 rounded-md border p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{id:"show-strikethrough",checked:E,onCheckedChange:a=>{ce(a),a||r.setValue("strikethrough_price",0)}}),e.jsx(be,{htmlFor:"show-strikethrough",children:"Aktifkan Harga Coret (Opsional)"})]}),E&&e.jsx(o,{control:r.control,name:"strikethrough_price",render:({field:a})=>e.jsxs(l,{children:[e.jsx(c,{children:"Harga Coret"}),e.jsx(u,{...a,type:"text",placeholder:"Rp 0",value:Z.format(a.value||0),onChange:t=>a.onChange(ee(t.target.value)),autoComplete:"off"}),e.jsx(f,{children:"Harga asli yang akan ditampilkan tercoret."}),e.jsx(m,{})]})})]}),e.jsx(o,{control:r.control,name:"price",render:({field:a})=>e.jsxs(l,{children:[e.jsxs(c,{children:["Harga ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(u,{...a,type:"text",placeholder:"Masukkan harga kursus",value:Z.format(a.value||0),onChange:t=>a.onChange(ee(t.target.value)),autoComplete:"off"}),e.jsx(f,{className:"ms-1",children:"Isi 0 untuk harga webinar gratis"}),e.jsx(m,{})]})}),e.jsx(o,{control:r.control,name:"batch",render:({field:a})=>e.jsxs(l,{children:[e.jsx(c,{children:"Batch"}),e.jsx(j,{children:e.jsx(u,{type:"number",...a,onChange:t=>a.onChange(parseInt(t.target.value,10)),placeholder:"Masukkan batch",autoComplete:"off"})}),e.jsx(m,{})]})}),e.jsx(o,{control:r.control,name:"quota",render:({field:a})=>e.jsxs(l,{children:[e.jsx(c,{children:"Kuota Peserta"}),e.jsx(j,{children:e.jsx(u,{type:"number",...a,onChange:t=>a.onChange(parseInt(t.target.value,10)),placeholder:"Masukkan kuota peserta",autoComplete:"off"})}),e.jsx(f,{className:"ms-1",children:"Isi 0 untuk kuota tak terbatas"}),e.jsx(m,{})]})})]}),e.jsxs("div",{className:"space-y-6 rounded-lg border p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($e,{size:16}),e.jsx("h3",{className:"font-medium",children:"Tanggal dan Informasi Pemateri"})]}),e.jsx(o,{control:r.control,name:"start_time",render:({field:a})=>e.jsxs(l,{className:"flex flex-col",children:[e.jsxs(c,{children:["Waktu Mulai ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex flex-col gap-3",children:e.jsxs(k,{open:ie,onOpenChange:I,children:[e.jsx(w,{asChild:!0,children:e.jsxs(g,{variant:"outline",id:"date",className:"w-32 justify-between font-normal",type:"button",children:[a.value?new Date(a.value).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"Pilih tanggal",e.jsx(F,{})]})}),e.jsx(C,{className:"w-auto overflow-hidden p-0",align:"start",children:e.jsx(_,{mode:"single",selected:a.value?new Date(a.value):void 0,captionLayout:"dropdown",endMonth:new Date(new Date().getFullYear()+10,11),onSelect:t=>{if(!t)return;const i=(a.value?new Date(a.value):new Date).toTimeString().slice(0,8)||"00:00:00",n=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`;a.onChange(`${n}T${i}`),I(!1)}})})]})}),e.jsx("div",{className:"flex flex-col gap-3",children:e.jsx(u,{type:"time",id:"time",step:"60",value:a.value?new Date(a.value).toTimeString().slice(0,5):"10:30",onChange:t=>{const s=a.value?new Date(a.value):new Date,i=`${s.getFullYear()}-${String(s.getMonth()+1).padStart(2,"0")}-${String(s.getDate()).padStart(2,"0")}`,n=t.target.value||"00:00";a.onChange(`${i}T${n}:00`)},className:"bg-background appearance-none [&::-webkit-calendar-picker-indicator]:hidden [&::-webkit-calendar-picker-indicator]:appearance-none"})})]}),e.jsx(m,{})]})}),e.jsx(o,{control:r.control,name:"end_time",render:({field:a})=>e.jsxs(l,{className:"flex flex-col",children:[e.jsxs(c,{children:["Waktu Selesai ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex flex-col gap-3",children:e.jsxs(k,{open:oe,onOpenChange:L,children:[e.jsx(w,{asChild:!0,children:e.jsxs(g,{variant:"outline",id:"date",className:"w-32 justify-between font-normal",type:"button",children:[a.value?new Date(a.value).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"Pilih tanggal",e.jsx(F,{})]})}),e.jsx(C,{className:"w-auto overflow-hidden p-0",align:"start",children:e.jsx(_,{mode:"single",selected:a.value?new Date(a.value):void 0,captionLayout:"dropdown",endMonth:new Date(new Date().getFullYear()+10,11),onSelect:t=>{const i=(a.value?new Date(a.value):new Date).toTimeString().split(" ")[0],n=t?`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`:"";a.onChange(n&&i?`${n}T${i}`:""),L(!1)}})})]})}),e.jsx("div",{className:"flex flex-col gap-3",children:e.jsx(u,{type:"time",id:"time",step:"60",value:a.value?new Date(a.value).toTimeString().slice(0,5):"10:30",onChange:t=>{const s=a.value?new Date(a.value):new Date,i=`${s.getFullYear()}-${String(s.getMonth()+1).padStart(2,"0")}-${String(s.getDate()).padStart(2,"0")}`,n=t.target.value||"00:00";a.onChange(`${i}T${n}:00`)},className:"bg-background appearance-none [&::-webkit-calendar-picker-indicator]:hidden [&::-webkit-calendar-picker-indicator]:appearance-none"})})]}),e.jsx(m,{})]})}),e.jsx(o,{control:r.control,name:"registration_deadline",render:({field:a})=>e.jsxs(l,{className:"flex flex-col",children:[e.jsxs(c,{children:["Deadline Pendaftaran ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex flex-col gap-3",children:e.jsxs(k,{open:le,onOpenChange:O,children:[e.jsx(w,{asChild:!0,children:e.jsxs(g,{variant:"outline",id:"date",className:"w-32 justify-between font-normal",type:"button",children:[a.value?new Date(a.value).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"Pilih tanggal",e.jsx(F,{})]})}),e.jsx(C,{className:"w-auto overflow-hidden p-0",align:"start",children:e.jsx(_,{mode:"single",selected:a.value?new Date(a.value):void 0,captionLayout:"dropdown",endMonth:new Date(new Date().getFullYear()+10,11),onSelect:t=>{const i=(a.value?new Date(a.value):new Date).toTimeString().split(" ")[0],n=t?`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`:"";a.onChange(n&&i?`${n}T${i}`:""),O(!1)}})})]})}),e.jsx("div",{className:"flex flex-col gap-3",children:e.jsx(u,{type:"time",id:"time",step:"60",value:a.value?new Date(a.value).toTimeString().slice(0,5):"10:30",onChange:t=>{const s=a.value?new Date(a.value):new Date,i=`${s.getFullYear()}-${String(s.getMonth()+1).padStart(2,"0")}-${String(s.getDate()).padStart(2,"0")}`,n=t.target.value||"00:00";a.onChange(`${i}T${n}:00`)},className:"bg-background appearance-none [&::-webkit-calendar-picker-indicator]:hidden [&::-webkit-calendar-picker-indicator]:appearance-none"})})]}),e.jsx(m,{})]})}),e.jsx(o,{control:r.control,name:"user_id",render:({field:a})=>e.jsxs(l,{className:"flex flex-col",children:[e.jsxs(c,{children:["Mentor / Pemateri ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(k,{open:ne,onOpenChange:P,children:[e.jsx(w,{asChild:!0,children:e.jsx(j,{children:e.jsxs(g,{variant:"outline",role:"combobox",className:S("justify-between",!a.value&&"text-muted-foreground"),children:[b?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Y,{className:"h-6 w-6",children:[e.jsx(z,{src:b.avatar,alt:b.name}),e.jsx(H,{className:"text-xs",children:M(b.name)})]}),e.jsx("span",{children:b.name})]}):e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Pe,{className:"h-4 w-4"}),"Pilih mentor"]}),e.jsx(te,{className:"opacity-50"})]})})}),e.jsx(C,{className:"w-[400px] p-0",children:e.jsxs(q,{children:[e.jsx(G,{placeholder:"Cari mentor...",className:"h-9"}),e.jsxs(K,{children:[e.jsx(V,{children:"Tidak ada mentor ditemukan."}),e.jsx(J,{children:N.map(t=>e.jsxs(Q,{value:t.name,onSelect:()=>{r.setValue("user_id",t.id),P(!1)},className:"flex items-start gap-2 py-2",children:[e.jsxs(Y,{className:"mt-0.5 h-8 w-8",children:[e.jsx(z,{src:t.avatar,alt:t.name}),e.jsx(H,{className:"text-xs",children:M(t.name)})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:t.name}),t.bio&&e.jsx("p",{className:"text-muted-foreground line-clamp-1 text-xs",children:t.bio})]}),e.jsx(se,{className:S("mt-1 ml-auto",t.id===a.value?"opacity-100":"opacity-0")})]},t.id))})]})]})})]}),e.jsx(f,{children:"Pilih mentor yang akan menjadi pemateri webinar ini"}),e.jsx(m,{})]})}),e.jsx(o,{control:r.control,name:"benefits",render:({field:a})=>e.jsxs(l,{children:[e.jsx(c,{children:"Benefit Mengikuti Webinar"}),e.jsx(De,{apiKey:"c7quf44sjov5dzvyzvgh4sryhheoi9t6vikfbzqk61pzpi77",value:a.value??"",onEditorChange:t=>a.onChange(t),init:{plugins:["anchor","autolink","charmap","codesample","emoticons","image","link","lists","media","searchreplace","table","visualblocks","wordcount"],onboarding:!1,toolbar:"undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table mergetags | addcomment showcomments | spellcheckdialog a11ycheck typography | align lineheight | checklist numlist bullist indent outdent | emoticons charmap | removeformat",tinycomments_mode:"embedded",tinycomments_author:"Author name",mergetags_list:[{value:"First.Name",title:"First Name"},{value:"Email",title:"Email"}],height:300}}),e.jsx(m,{})]})}),e.jsx(o,{control:r.control,name:"group_url",render:({field:a})=>e.jsxs(l,{children:[e.jsx(c,{children:"Link Group Peserta"}),e.jsx(X,{...a,value:a.value??"",className:"w-full rounded border p-2",placeholder:"Masukkan link grup peserta",autoComplete:"off"}),e.jsx(m,{})]})})]}),e.jsx(g,{type:"submit",className:"hover:cursor-pointer",children:"Simpan Draft"})]})})]})]})}export{Ga as default};
