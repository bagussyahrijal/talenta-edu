import{r as c,j as i}from"./app-CVVm-dmT.js";import{c as u}from"./utils-DCiIK_P1.js";import{u as z}from"./use-motion-value-BaQ80PnC.js";import{m as g}from"./proxy-DnVTuqwr.js";import{C as w}from"./chevron-left-D2IpinE6.js";import{C as E}from"./chevron-right-Daldhaui.js";const C=c.createContext(void 0);function x(){const e=c.useContext(C);if(!e)throw new Error("useCarousel must be used within an CarouselProvider");return e}function I({children:e,initialIndex:o=0,onIndexChange:r,disableDrag:t=!1}){const[n,a]=c.useState(o),[s,p]=c.useState(0),f=l=>{a(l),r==null||r(l)};return c.useEffect(()=>{a(o)},[o]),i.jsx(C.Provider,{value:{index:n,setIndex:f,itemsCount:s,setItemsCount:p,disableDrag:t},children:e})}function S({children:e,className:o,initialIndex:r=0,index:t,onIndexChange:n,disableDrag:a=!1}){const[s,p]=c.useState(r),f=t!==void 0,l=f?t:s,m=d=>{f||p(d),n==null||n(d)};return i.jsx(I,{initialIndex:l,onIndexChange:m,disableDrag:a,children:i.jsx("div",{className:u("group/hover relative",o),children:i.jsx("div",{className:"overflow-hidden",children:e})})})}function V({className:e,classNameButton:o,alwaysShow:r}){const{index:t,setIndex:n,itemsCount:a}=x();return i.jsxs("div",{className:u("pointer-events-none absolute left-[5%] top-1/2 flex w-[90%] -translate-y-1/2 justify-between px-2",e),children:[i.jsx("button",{type:"button","aria-label":"Previous slide",className:u("pointer-events-auto h-fit w-fit rounded-full bg-zinc-50 p-2 transition-opacity duration-300 dark:bg-zinc-950",r?"opacity-100":"opacity-0 group-hover/hover:opacity-100",r?"disabled:opacity-40":"group-hover/hover:disabled:opacity-40",o),disabled:t===0,onClick:()=>{t>0&&n(t-1)},children:i.jsx(w,{className:"stroke-zinc-600 dark:stroke-zinc-50",size:16})}),i.jsx("button",{type:"button",className:u("pointer-events-auto h-fit w-fit rounded-full bg-zinc-50 p-2 transition-opacity duration-300 dark:bg-zinc-950",r?"opacity-100":"opacity-0 group-hover/hover:opacity-100",r?"disabled:opacity-40":"group-hover/hover:disabled:opacity-40",o),"aria-label":"Next slide",disabled:t+1===a,onClick:()=>{t<a-1&&n(t+1)},children:i.jsx(E,{className:"stroke-zinc-600 dark:stroke-zinc-50",size:16})})]})}function $({className:e,classNameButton:o}){const{index:r,itemsCount:t,setIndex:n}=x();return i.jsx("div",{className:u("absolute bottom-4 z-10 flex w-auto items-center justify-center left-0 right-0 mx-auto",e),children:i.jsx("div",{className:"flex space-x-2",children:Array.from({length:t},(a,s)=>i.jsx("button",{type:"button","aria-label":`Go to slide ${s+1}`,onClick:()=>n(s),className:u("h-2 w-2 rounded-full transition-opacity duration-300 hover:cursor-pointer",r===s?"bg-primary dark:bg-primary":"bg-white dark:bg-white",o)},s))})})}function G({children:e,className:o,transition:r}){const{index:t,setIndex:n,setItemsCount:a,disableDrag:s}=x(),[p,f]=c.useState(1),l=z(0),m=c.useRef(null),d=c.Children.count(e);c.useEffect(()=>{if(!m.current)return;const v={root:m.current,threshold:.5},h=new IntersectionObserver(b=>{const k=b.filter(N=>N.isIntersecting).length;f(k)},v),j=m.current.children;return Array.from(j).forEach(b=>h.observe(b)),()=>h.disconnect()},[e,a]),c.useEffect(()=>{d&&a(d)},[d,a]);const y=()=>{const v=l.get();v<=-10&&t<d-1?n(t+1):v>=10&&t>0&&n(t-1)};return i.jsx(g.div,{drag:s?!1:"x",dragConstraints:s?void 0:{left:0,right:0},dragMomentum:s?void 0:!1,style:{x:s?void 0:l},animate:{x:`-${t*(100/p)}%`},onDragEnd:s?void 0:y,transition:r||{damping:18,stiffness:90,type:"spring",duration:.2},className:u("flex items-center",!s&&"cursor-grab active:cursor-grabbing",o),ref:m,children:e})}function O({children:e,className:o}){return i.jsx(g.div,{className:u("w-full min-w-0 shrink-0 grow-0 overflow-hidden",o),children:e})}export{S as C,G as a,O as b,V as c,$ as d,x as u};
